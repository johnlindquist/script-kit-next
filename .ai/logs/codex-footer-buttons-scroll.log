==== spawn @ 2026-02-08T05:57:24.879Z ====
cmd: codex "exec" "--cd" "/Users/johnlindquist/dev/script-kit-gpui" "--model" "gpt-5.3-codex" "-c" "model_reasoning_effort=\"xhigh\"" "-c" "model_auto_compact_token_limit=120000" "-c" "developer_instructions=\"You are Codex implementer agent \\\"codex-footer-buttons-scroll\\\".\\n\\n## Coordination\\nThis repo runs parallel agents in ONE working tree. Before editing any file, you MUST claim it.\\nCommands (run via shell):\\n  - View roster: ~/.claude/bin/swarm.ts status\\n  - Claim files (blocks until free): ~/.claude/bin/swarm.ts claim --wait --id codex-footer-buttons-scroll path/to/file\\n  - Release: ~/.claude/bin/swarm.ts release --id codex-footer-buttons-scroll path/to/file\\n  - Update status/notes: ~/.claude/bin/swarm.ts update --id codex-footer-buttons-scroll --status in_progress --notes \\\"...\\\"\\nRules:\\n  - Never edit a file you haven't claimed.\\n  - Keep claims tight (claim only what you're actively changing).\\n  - If blocked, set status=blocked and say what you're waiting on.\\n  - When finished, set status=done and release claims.\\n\\n## Development practices (this code is maintained by AI agents)\\n  - Log state transitions with enough context to diagnose failures from logs alone.\\n  - Structured errors: include what was attempted, what failed, and current state.\\n  - Name things for grepability — unique identifiers agents can find on the first search.\\n  - Every behavior change gets a test. Untested code is invisible to the next agent.\\n  - Test names describe the scenario: test_X_does_Y_when_Z.\\n  - Keep functions small and single-purpose. 500-line functions burn agent context.\\n  - Use types to encode constraints (enums > strings for errors).\\n\\n## CRITICAL: Parallel-safe verification\\n  - Other agents are modifying other files RIGHT NOW. Full test suites WILL show their failures.\\n  - ONLY run tests that cover YOUR changed files. Scope every test/check command:\\n    Rust: cargo test -p your-crate -- module::test_name | JS: npx jest your/file.test.ts\\n  - Do NOT run: cargo test (unscoped), cargo check (whole workspace), npm test (unscoped).\\n  - If a scoped test fails, it's YOUR bug — fix it. If tests outside your scope fail, ignore them.\\n\\n## Git commit discipline\\n  - NEVER commit unverified work. Run tests/lints/type-checks FIRST. If it fails, fix it before committing.\\n  - A commit is a declaration: \\\"this works and here's the proof.\\\"\\n  - Commit FREQUENTLY — after each meaningful unit of VERIFIED work, not just at the end.\\n  - A \\\"unit\\\" = one logical change that passes verification (new function, bug fix, refactor, test added).\\n  - NEVER batch an entire task into one giant commit. Small commits are searchable; big ones aren't.\\n  - Commit message format:\\n      Line 1: <type>(<scope>): <what changed> (imperative, max 72 chars)\\n      Line 3+: WHY this change was made, WHAT was verified, and HOW to test it.\\n    Types: feat, fix, refactor, test, docs, chore\\n    Example:\\n      feat(auth): add refresh token rotation\\n      \\n      Tokens now rotate on each refresh call to prevent replay attacks.\\n      The old token is invalidated immediately on rotation.\\n      \\n      Verified: cargo test --lib -- auth::refresh (4 tests pass)\\n      Verified: manual smoke test via curl — token rotates, old token returns 401\\n  - The \\\"Verified:\\\" lines are REQUIRED. Future agents will read git log to understand\\n    what was tested and how to re-verify. This is the most valuable part of the message.\\n  - In your final message, list all commits you made with their hashes.\\n\\n## Time budget\\nYou have approximately 10 minutes. If your task is too broad to complete in time:\\n(1) Commit any verified progress.\\n(2) Run: ~/.claude/bin/swarm.ts update --id YOUR_ID --status needs_split --notes 'suggest: 1) sub-task-desc scope:files 2) sub-task-desc scope:files'.\\n(3) Exit cleanly. The dispatcher will read your suggestions and spawn narrower workers.\"" "--output-last-message" "/Users/johnlindquist/dev/script-kit-gpui/.ai/logs/codex-footer-buttons-scroll.final.md" "--yolo" "You are agent codex-footer-buttons-scroll.\n\nCurrent parallel-agent roster (read this first):\n```\nSWARM SNAPSHOT @ 2026-02-08T05:57:24.877Z\n- codex-footer-buttons-scroll [starting] scope=src/prompts/chat/render_core.rs,src/prompts/chat/render_footer.rs,src/prompts/chat/render_messages.rs,src/prompts/chat/types.rs,src/prompts/chat/prompt.rs,src/prompts/chat/streaming.rs task=Two UI fixes for the script generation ChatPrompt (see screenshot context): 1) MOVE Save/Run/Save and Run buttons TO TH…\n- codex-sdk-prompt-update [in_progress] scope=src/ai/script_generation.rs,src/app_impl/prompt_ai.rs,~/.scriptkit/kit/*/scripts/*.ts task=The AI script generation system prompt is outdated — it references '@johnlindquist/kit' but the new SDK uses 'import \"@…\n  notes: spawned codex (exec)\n```\n\nYour assignment:\n- Task: Two UI fixes for the script generation ChatPrompt (see screenshot context): 1) MOVE Save/Run/Save and Run buttons TO THE FOOTER. Currently they render above the footer as a separate action row (render_script_generation_actions in src/prompts/chat/render_core.rs). They need to move INTO the footer bar itself, next to 'Claude Code - Sonnet' and 'Continue in Chat'. Look at render_footer() in render_core.rs to see how the footer is built. The buttons should appear in the footer when script_generation_mode=true and should_show_script_generation_actions() returns true. Remove the old action row rendering. 2) FIX AUTO-SCROLL during streaming. When script content streams in, the view should auto-scroll to show new content. Look at how the chat prompt handles scroll_follow / auto-scroll in the streaming code (render_messages.rs, types.rs has scroll follow logic). The script generation mode should keep auto-scrolling as content arrives, just like regular chat does. Check if scroll_follow is being properly maintained during builtin AI streaming. Run cargo check.\n- Scope: src/prompts/chat/render_core.rs,src/prompts/chat/render_footer.rs,src/prompts/chat/render_messages.rs,src/prompts/chat/types.rs,src/prompts/chat/prompt.rs,src/prompts/chat/streaming.rs\n\nOperating constraints:\n- Single working tree (no worktrees, no patches).\n- You MUST claim files before editing (~/.claude/bin/swarm.ts claim --wait ...).\n\nDeliverables:\n- Make the code changes required by the task.\n- Run the most relevant tests/linters.\n- In your FINAL message, include: changed files, how to test, and any risks/known gaps."

OpenAI Codex v0.98.0 (research preview)
--------
workdir: /Users/johnlindquist/dev/script-kit-gpui
model: gpt-5.3-codex
provider: openai
approval: never
sandbox: danger-full-access
reasoning effort: xhigh
reasoning summaries: auto
session id: 019c3bd3-8942-7e51-b44d-006ec8ab30f5
--------
user
You are agent codex-footer-buttons-scroll.

Current parallel-agent roster (read this first):
```
SWARM SNAPSHOT @ 2026-02-08T05:57:24.877Z
- codex-footer-buttons-scroll [starting] scope=src/prompts/chat/render_core.rs,src/prompts/chat/render_footer.rs,src/prompts/chat/render_messages.rs,src/prompts/chat/types.rs,src/prompts/chat/prompt.rs,src/prompts/chat/streaming.rs task=Two UI fixes for the script generation ChatPrompt (see screenshot context): 1) MOVE Save/Run/Save and Run buttons TO TH…
- codex-sdk-prompt-update [in_progress] scope=src/ai/script_generation.rs,src/app_impl/prompt_ai.rs,~/.scriptkit/kit/*/scripts/*.ts task=The AI script generation system prompt is outdated — it references '@johnlindquist/kit' but the new SDK uses 'import "@…
  notes: spawned codex (exec)
```

Your assignment:
- Task: Two UI fixes for the script generation ChatPrompt (see screenshot context): 1) MOVE Save/Run/Save and Run buttons TO THE FOOTER. Currently they render above the footer as a separate action row (render_script_generation_actions in src/prompts/chat/render_core.rs). They need to move INTO the footer bar itself, next to 'Claude Code - Sonnet' and 'Continue in Chat'. Look at render_footer() in render_core.rs to see how the footer is built. The buttons should appear in the footer when script_generation_mode=true and should_show_script_generation_actions() returns true. Remove the old action row rendering. 2) FIX AUTO-SCROLL during streaming. When script content streams in, the view should auto-scroll to show new content. Look at how the chat prompt handles scroll_follow / auto-scroll in the streaming code (render_messages.rs, types.rs has scroll follow logic). The script generation mode should keep auto-scrolling as content arrives, just like regular chat does. Check if scroll_follow is being properly maintained during builtin AI streaming. Run cargo check.
- Scope: src/prompts/chat/render_core.rs,src/prompts/chat/render_footer.rs,src/prompts/chat/render_messages.rs,src/prompts/chat/types.rs,src/prompts/chat/prompt.rs,src/prompts/chat/streaming.rs

Operating constraints:
- Single working tree (no worktrees, no patches).
- You MUST claim files before editing (~/.claude/bin/swarm.ts claim --wait ...).

Deliverables:
- Make the code changes required by the task.
- Run the most relevant tests/linters.
- In your FINAL message, include: changed files, how to test, and any risks/known gaps.
warning: Under-development features enabled: responses_websockets. Under-development features are incomplete and may behave unpredictably. To suppress this warning, set `suppress_unstable_features_warning = true` in /Users/johnlindquist/.codex/config.toml.
mcp: deepwiki starting
mcp: deepwiki ready
mcp startup: ready: deepwiki

thinking
**Resolving conflicting verification instructions**
codex
I’m taking the two ChatPrompt UI fixes in the scoped chat files: moving script-generation action buttons into the footer and restoring streaming auto-scroll behavior. I’ll first sync swarm status and inspect the current footer/action/scroll-follow code paths before editing.
exec
/bin/zsh -lc '~/.claude/bin/swarm.ts status' in /Users/johnlindquist/dev/script-kit-gpui succeeded in 52ms:
Repo: /Users/johnlindquist/dev/script-kit-gpui
Updated: 2026-02-08T05:57:44.183Z

Active agents (2):
codex-footer-buttons-scroll [in_progress] codex/gpt-5.3-codex/exec
  task: Two UI fixes for the script generation ChatPrompt (see screenshot context): 1) MOVE Save/Run/Save and Run buttons TO TH…
  scope: src/prompts/chat/render_core.rs,src/prompts/chat/render_footer.rs,src/prompts/chat/render_messages.rs,src/prompts/chat/…
  claims: (none)
  notes: spawned codex (exec)

codex-sdk-prompt-update [in_progress] codex/gpt-5.3-codex/exec
  task: The AI script generation system prompt is outdated — it references '@johnlindquist/kit' but the new SDK uses 'import "@…
  scope: src/ai/script_generation.rs,src/app_impl/prompt_ai.rs,~/.scriptkit/kit/*/scripts/*.ts
  claims: (none)
  notes: spawned codex (exec)

Inactive agents (267):
- codex-accessibility [done] done. exit=0. final=.ai/logs/codex-accessibility.final.md. See final message file.
- codex-action-labels [failed] failed. exit=1. final=.ai/logs/codex-action-labels.final.md.
- codex-actions-audit [failed] failed. exit=1. final=.ai/logs/codex-actions-audit.final.md. See final message file.
exec
/bin/zsh -lc '~/.claude/bin/swarm.ts update --id codex-footer-buttons-scroll --status in_progress --notes "Inspecting footer/action row + scroll_follow streaming behavior"' in /Users/johnlindquist/dev/script-kit-gpui succeeded in 51ms:
Updated: codex-footer-buttons-scroll

thinking
**Confirming claim file requirement**
codex
I’ve marked this agent in progress and confirmed no current file claims. Next I’m reading the scoped chat files to locate where the standalone action row is rendered and where `scroll_follow` is toggled during streaming.
exec
/bin/zsh -lc "sed -n '1,260p' src/prompts/chat/render_core.rs" in /Users/johnlindquist/dev/script-kit-gpuiexec
/bin/zsh -lc 'rg -n "render_script_generation_actions|render_footer|scroll_follow|script_generation_mode|should_show_script_generation_actions|builtin|stream" src/prompts/chat/render_core.rs src/prompts/chat/render_footer.rs src/prompts/chat/render_messages.rs src/prompts/chat/types.rs src/prompts/chat/prompt.rs src/prompts/chat/streaming.rs' in /Users/johnlindquist/dev/script-kit-gpuiexec
/bin/zsh -lc "sed -n '1,280p' src/prompts/chat/render_footer.rs" in /Users/johnlindquist/dev/script-kit-gpui succeeded in 51ms:
use super::*;

impl ChatPrompt {
    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
        // Use standard PromptFooter colors from theme
        let footer_colors = PromptFooterColors::from_theme(&self.theme);

        // Build model display text (show model name if available)
        let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());

        // Configure footer with chat-specific labels
        let footer_config = PromptFooterConfig::new()
            .primary_label("Continue in Chat")
            .primary_shortcut("⌘↵")
            .secondary_label("Actions")
            .secondary_shortcut("⌘K")
            .show_logo(true)
            .show_secondary(true)
            .helper_text(model_text) // Show model name next to logo
            .info_label("Shift+Enter newline");
 exited 2 in 51ms:
rg: src/prompts/chat/render_footer.rs: No such file or directory (os error 2)
rg: src/prompts/chat/render_messages.rs: No such file or directory (os error 2)
src/prompts/chat/render_core.rs:4:    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
src/prompts/chat/render_core.rs:28:    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
src/prompts/chat/render_core.rs:29:        let show_actions = self.should_show_script_generation_actions();
src/prompts/chat/render_core.rs:157:            && self.has_builtin_ai()
src/prompts/chat/render_core.rs:222:                    // Escape - stop streaming if active, otherwise close chat
src/prompts/chat/render_core.rs:223:                    if this.is_streaming() {
src/prompts/chat/render_core.rs:224:                        this.stop_streaming(cx);
src/prompts/chat/render_core.rs:230:                    if this.is_streaming() {
src/prompts/chat/render_core.rs:231:                        this.stop_streaming(cx);
src/prompts/chat/render_core.rs:389:                        let next_state = next_chat_scroll_follow_state(
src/prompts/chat/render_core.rs:476:                self.render_script_generation_actions(cx),
src/prompts/chat/render_core.rs:480:            .child(self.render_footer(cx))
src/prompts/chat/types.rs:133:pub(crate) fn should_show_script_generation_actions(
src/prompts/chat/types.rs:134:    script_generation_mode: bool,
src/prompts/chat/types.rs:135:    is_streaming: bool,
src/prompts/chat/types.rs:138:    script_generation_mode && !is_streaming && has_draft
src/prompts/chat/types.rs:178:pub(super) fn should_ignore_stream_reveal_update(
src/prompts/chat/types.rs:179:    active_stream_message_id: Option<&str>,
 exited 1 in 51ms:
sed: src/prompts/chat/render_footer.rs: No such file or directory

thinking
**Inspecting missing files**
codex
I found `render_script_generation_actions()` and confirmed it’s still injected as a separate row in `render_core.rs`. I also found that `render_footer.rs`/`render_messages.rs` don’t exist in this branch, so I’m mapping the equivalent code in the current file layout before making changes.
exec
/bin/zsh -lc "sed -n '1,320p' src/prompts/chat/types.rs" in /Users/johnlindquist/dev/script-kit-gpuiexec
/bin/zsh -lc 'ls -la src/prompts/chat' in /Users/johnlindquist/dev/script-kit-gpuiexec
/bin/zsh -lc "sed -n '260,620p' src/prompts/chat/render_core.rs" in /Users/johnlindquist/dev/script-kit-gpuiexec
/bin/zsh -lc "sed -n '1,420p' src/prompts/chat/streaming.rs" in /Users/johnlindquist/dev/script-kit-gpui succeeded in 51ms:
total 312
drwxr-xr-x  13 johnlindquist  staff    416 Feb  7 22:38 .
drwxr-xr-x  18 johnlindquist  staff    576 Feb  7 15:27 ..
-rw-r--r--   1 johnlindquist  staff   8703 Feb  7 22:38 actions.rs
-rw-r--r--   1 johnlindquist  staff   2278 Feb  7 20:40 mod.rs
-rw-r--r--   1 johnlindquist  staff  19097 Feb  7 20:36 prompt.rs
-rw-r--r--   1 johnlindquist  staff  19491 Feb  7 20:40 render_core.rs
-rw-r--r--   1 johnlindquist  staff   3895 Feb  7 09:07 render_input.rs
-rw-r--r--   1 johnlindquist  staff   9389 Feb  7 09:07 render_setup.rs
-rw-r--r--   1 johnlindquist  staff   8748 Feb  7 09:07 render_turns.rs
-rw-r--r--   1 johnlindquist  staff  16757 Feb  7 19:42 state.rs
-rw-r--r--   1 johnlindquist  staff  19908 Feb  7 20:40 streaming.rs
-rw-r--r--   1 johnlindquist  staff  13906 Feb  7 20:39 tests.rs
-rw-r--r--   1 johnlindquist  staff  13870 Feb  7 20:36 types.rs
 succeeded in 51ms:
use super::*;
/// Available AI models for the chat
#[derive(Clone, Debug, PartialEq)]
pub struct ChatModel {
    pub id: String,
    pub name: String,
    pub provider: String,
}

impl ChatModel {
    pub fn new(
        id: impl Into<String>,
        name: impl Into<String>,
        provider: impl Into<String>,
    ) -> Self {
        Self {
            id: id.into(),
            name: name.into(),
            provider: provider.into(),
        }
 succeeded in 51ms:
use super::*;

impl ChatPrompt {
    pub(super) fn handle_submit(&mut self, cx: &mut Context<Self>) {
        let text = self.input.text().to_string();
        let pending_image = self.pending_image.take();
        let pending_render = self.pending_image_render.take();

        if text.trim().is_empty() && pending_image.is_none() {
            return;
        }
        logging::log("CHAT", &format!("User submitted: {}", text));
        self.input.clear();
        self.clear_script_generation_status();

        // If built-in AI mode is enabled, handle the AI call directly
        if self.has_builtin_ai() {
            // Cache the render image for conversation history display
            // We need the user message ID, which will be generated in handle_builtin_ai_submit
            self.handle_builtin_ai_submit(text, pending_image, pending_render, cx);
 succeeded in 51ms:
                        this.reset_cursor_blink();
                        cx.notify();
                    }
                }
                ChatInputKeyAction::Ignore => {}
            }
        });

        let container_bg: Option<Hsla> = get_vibrancy_background(&self.theme).map(Hsla::from);
        let input_is_focused = self.focus_handle.is_focused(window);

        // If needs_setup, render setup card instead of normal chat
        if self.needs_setup {
            return div()
                .id("chat-prompt-setup")
                .flex()
                .flex_col()
                .w_full()
                .h_full()
                .when_some(container_bg, |d, bg| d.bg(bg))

thinking
**Continuing file exploration**
exec
/bin/zsh -lc "sed -n '420,760p' src/prompts/chat/streaming.rs" in /Users/johnlindquist/dev/script-kit-gpui succeeded in 52ms:
                                chat.scroll_turns_to_bottom();
                                cx.notify();
                            } else if let Some(new_offset) =
                                next_reveal_boundary(&full_text, current_offset)
                            {
                                if new_offset > current_offset {
                                    chat.builtin_reveal_offset = new_offset;
                                    let revealed = &full_text[..new_offset];

                                    if let Some(msg) = chat
                                        .messages
                                        .iter_mut()
                                        .find(|m| m.id.as_deref() == Some(&msg_id))
                                    {
                                        msg.set_content(revealed);
                                    }
                                    chat.builtin_streaming_content = revealed.to_string();
                                    chat.builtin_accumulated_content = full_text.clone();
                                    chat.mark_conversation_turns_dirty();
                                    chat.scroll_turns_to_bottom();

thinking
**Inspecting scroll follow implementation**
codex
I mapped the current layout: message rendering is in `render_core.rs`/`render_turns.rs`, and streaming reveal updates are in `streaming.rs`. Next I’m checking `prompt.rs` and related state methods to confirm how auto-scroll is gated so we can fix script-generation streaming without breaking manual scroll behavior.
exec
/bin/zsh -lc "sed -n '1,260p' src/prompts/chat/prompt.rs" in /Users/johnlindquist/dev/script-kit-gpuiexec
/bin/zsh -lc "sed -n '260,620p' src/prompts/chat/prompt.rs" in /Users/johnlindquist/dev/script-kit-gpuiexec
/bin/zsh -lc "sed -n '1,320p' src/prompts/chat/render_turns.rs" in /Users/johnlindquist/dev/script-kit-gpuiexec
/bin/zsh -lc "sed -n '1,360p' src/prompts/chat/state.rs" in /Users/johnlindquist/dev/script-kit-gpui succeeded in 50ms:
use super::*;
pub struct ChatPrompt {
    pub id: String,
    pub messages: Vec<ChatPromptMessage>,
    pub placeholder: Option<String>,
    pub hint: Option<String>,
    pub footer: Option<String>,
    pub model: Option<String>,
    pub models: Vec<ChatModel>,
    pub title: Option<String>,
    pub focus_handle: FocusHandle,
    pub input: TextInputState,
    pub on_submit: ChatSubmitCallback,
    pub on_escape: Option<ChatEscapeCallback>,
    pub on_continue: Option<ChatContinueCallback>,
    pub on_retry: Option<ChatRetryCallback>,
    pub theme: Arc<theme::Theme>,
    pub turns_list_state: ListState,
    pub(super) prompt_colors: theme::PromptColors,
    pub(super) conversation_turns_cache: Arc<Vec<ConversationTurn>>,
 succeeded in 52ms:
use super::*;

impl ChatPrompt {
    pub(super) fn render_turn(
        &self,
        turn: &ConversationTurn,
        turn_index: usize,
        cx: &Context<Self>,
    ) -> impl IntoElement {
        let colors = &self.prompt_colors;

        // VIBRANCY: Use theme-aware overlay for subtle lift that lets blur show through
        // Dark mode: white overlay brightens; Light mode: much subtler black overlay
        let container_bg = if self.theme.is_dark_mode() {
            theme::hover_overlay_bg(&self.theme, 0x15) // ~8% white overlay for dark mode
        } else {
            theme::hover_overlay_bg(&self.theme, 0x08) // ~3% black overlay for light mode
        };
        let copy_hover_bg = theme::hover_overlay_bg(&self.theme, 0x28); // ~16% for hover
        let error_color = self.theme.colors.ui.error;
 succeeded in 52ms:
    }

    /// Set the retry callback
    pub fn with_retry_callback(mut self, callback: ChatRetryCallback) -> Self {
        self.on_retry = Some(callback);
        self
    }

    /// Set the title
    pub fn with_title(mut self, title: impl Into<String>) -> Self {
        self.title = Some(title.into());
        self
    }

    /// Set whether to save chat history to the database
    pub fn with_save_history(mut self, save: bool) -> Self {
        self.save_history = save;
        self
    }

 succeeded in 51ms:
use super::*;

impl ChatPrompt {
    pub(super) fn mark_conversation_turns_dirty(&mut self) {
        self.conversation_turns_dirty = true;
    }

    pub(super) fn sync_turns_list_state(&mut self) {
        let item_count = self.conversation_turns_cache.len();
        let old_count = self.turns_list_state.item_count();
        if old_count != item_count {
            self.turns_list_state.splice(0..old_count, item_count);
        }
    }

    pub(super) fn ensure_conversation_turns_cache(&mut self) {
        if !self.conversation_turns_dirty {
            return;
        }
        self.conversation_turns_cache = Arc::new(build_conversation_turns(

thinking
**Investigating footer component flexibility**
codex
I confirmed the auto-scroll gate uses `user_has_scrolled_up` in `scroll_turns_to_bottom()`, and builtin streaming currently calls `scroll_turns_to_bottom()` on each reveal tick. I’m now inspecting `PromptFooter` APIs to add Save/Run/Save and Run inside the footer itself instead of rendering a separate row.
exec
/bin/zsh -lc "sed -n '1,320p' src/prompt_footer.rs" in /Users/johnlindquist/dev/script-kit-gpuiexec
/bin/zsh -lc 'rg -n "struct PromptFooter|PromptFooterConfig|PromptFooter::new|helper_text|info_label|show_secondary|secondary_label" src' in /Users/johnlindquist/dev/script-kit-gpuiexec
/bin/zsh -lc "sed -n '320,720p' src/prompt_footer.rs" in /Users/johnlindquist/dev/script-kit-gpui exited 1 in 51ms:
sed: src/prompt_footer.rs: No such file or directory
 exited 1 in 51ms:
sed: src/prompt_footer.rs: No such file or directory
 succeeded in 51ms:
src/app_actions/tests/actions_button_visibility.rs:34:            content.contains("show_secondary(self.has_actions())"),
src/app_actions/tests/actions_button_visibility.rs:35:            "render_script_list footer must use show_secondary(self.has_actions())"
src/main.rs:210:    FormFieldColors, PromptFooter, PromptFooterColors, PromptFooterConfig, Scrollbar,
src/prompts/env/mod.rs:19:use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
src/prompts/env/render.rs:329:                let footer_config = PromptFooterConfig::new()
src/prompts/env/render.rs:332:                    .helper_text("Script running")
src/prompts/env/render.rs:333:                    .show_secondary(true)
src/prompts/env/render.rs:334:                    .secondary_label("Cancel")
src/prompts/env/render.rs:340:                PromptFooter::new(footer_config, footer_colors)
src/render_prompts/term.rs:269:        let footer_config = PromptFooterConfig::new()
src/render_prompts/term.rs:272:            .show_secondary(true);
src/render_prompts/term.rs:297:                PromptFooter::new(footer_config, footer_colors)
src/render_script_list/part_000.rs:1220:            let mut footer_config = PromptFooterConfig::default().primary_label(primary_label);
src/render_script_list/part_000.rs:1229:                footer_config = footer_config.info_label(format!(
src/render_script_list/part_000.rs:1234:                footer_config = footer_config.info_label(type_label);
src/render_script_list/part_000.rs:1236:            footer_config = footer_config.show_secondary(self.has_actions());
src/render_script_list/part_000.rs:1238:            PromptFooter::new(footer_config, footer_colors)
src/render_prompts/editor.rs:14:fn editor_footer_helper_text(snippet_helper_text: Option<&str>) -> String {
src/render_prompts/editor.rs:15:    match snippet_helper_text {
src/render_prompts/editor.rs:24:    helper_text: Option<String>,

thinking
**Locating prompt footer file**
exec
/bin/zsh -lc "sed -n '1,360p' src/components/prompt_footer.rs" in /Users/johnlindquist/dev/script-kit-gpui succeeded in 50ms:
//! PromptFooter - Reusable footer component for prompts
//!
//! This module provides a theme-aware footer component used across all prompt types.
//! It includes a Script Kit logo, optional helper text, primary action button, divider,
//! and secondary action button.
//!
//! # Structure
//! ```text
//! | [Logo] [Helper Text] |              | [Info] | [Primary ↵] | [Secondary ⌘K] |
//! ```
//!
//! # Example
//! ```rust,ignore
//! let footer = PromptFooter::new(
//!     PromptFooterConfig::new()
//!         .primary_label("Run Script")
//!         .primary_shortcut("↵")
//!         .secondary_label("Actions")
//!         .secondary_shortcut("⌘K"),
//!     PromptFooterColors::from_theme(&theme),
exec
/bin/zsh -lc "sed -n '360,760p' src/components/prompt_footer.rs" in /Users/johnlindquist/dev/script-kit-gpui succeeded in 51ms:
            )
            .child(
                div()
                    .text_size(px(button_font_size))
                    .text_color(self.colors.text_muted.to_rgb())
                    .child(shortcut),
            );

        if is_clickable {
            button = button
                .cursor_pointer()
                .hover(move |s| s.bg(hover_bg))
                .active(move |s| s.bg(active_bg));
        } else if disabled {
            button = button.opacity(0.5).cursor_default();
        }

        if is_clickable {
            if let Some(callback) = on_click {
                button = button.on_click(move |event, window, cx| {

thinking
**Planning footer customization**
codex
I confirmed `PromptFooter` only supports two built-in buttons, so I’ll implement the script-generation controls directly inside the chat footer rendering (within `render_core.rs`) and keep the standard footer look there. After that I’ll add/adjust chat tests for the moved action logic and then run scoped checks.
exec
/bin/zsh -lc "sed -n '1,360p' src/prompts/chat/tests.rs" in /Users/johnlindquist/dev/script-kit-gpuiexec
/bin/zsh -lc "sed -n '360,760p' src/prompts/chat/tests.rs" in /Users/johnlindquist/dev/script-kit-gpuiexec
/bin/zsh -lc 'rg -n "script_generation|scroll_follow|user_has_scrolled_up|render_script_generation_actions|footer" src/prompts/chat/tests.rs src/prompts/chat/*.rs' in /Users/johnlindquist/dev/script-kit-gpui succeeded in 52ms:
use super::*;
#[cfg(test)]
#[allow(clippy::module_inception)]
mod tests {
    use std::collections::HashMap;

    use crate::protocol::ChatPromptMessage;

    use super::{
        next_chat_scroll_follow_state, next_reveal_boundary, resolve_chat_input_key_action,
        resolve_setup_card_key, should_ignore_stream_reveal_update,
        should_show_script_generation_actions, ChatInputKeyAction, ChatScrollDirection,
        ScriptGenerationAction, SetupCardAction,
    };

    #[test]
    fn resolve_setup_card_key_cycles_focus_for_tab_and_arrows() {
        assert_eq!(
            resolve_setup_card_key("tab", false, 0),
            (1, SetupCardAction::None, true)
 succeeded in 50ms:
    }

    #[test]
    fn chat_scroll_follow_state_keeps_manual_mode_when_scrolling_down_above_bottom() {
        assert!(
            next_chat_scroll_follow_state(true, ChatScrollDirection::Down, false),
            "Scrolling down away from bottom should keep manual mode enabled"
        );
    }

    #[test]
    fn chat_scroll_follow_state_reenables_follow_when_scrolling_down_at_bottom() {
        assert!(
            !next_chat_scroll_follow_state(true, ChatScrollDirection::Down, true),
            "Reaching the bottom while scrolling down should re-enable auto-follow"
        );
    }

    #[test]
    fn chat_scroll_follow_state_preserves_follow_state_for_non_scrolling_events() {
 succeeded in 51ms:
src/prompts/chat/tests.rs:10:        next_chat_scroll_follow_state, next_reveal_boundary, resolve_chat_input_key_action,
src/prompts/chat/tests.rs:12:        should_show_script_generation_actions, ChatInputKeyAction, ChatScrollDirection,
src/prompts/chat/tests.rs:158:    fn should_show_script_generation_actions_only_when_draft_is_ready() {
src/prompts/chat/tests.rs:160:            should_show_script_generation_actions(true, false, true),
src/prompts/chat/tests.rs:164:            !should_show_script_generation_actions(false, false, true),
src/prompts/chat/tests.rs:168:            !should_show_script_generation_actions(true, true, true),
src/prompts/chat/tests.rs:172:            !should_show_script_generation_actions(true, false, false),
src/prompts/chat/tests.rs:178:    fn script_generation_action_should_run_after_save_only_for_run_variants() {
src/prompts/chat/tests.rs:355:    fn chat_scroll_follow_state_disables_follow_on_upward_scroll() {
src/prompts/chat/tests.rs:357:            next_chat_scroll_follow_state(false, ChatScrollDirection::Up, false),
src/prompts/chat/tests.rs:363:    fn chat_scroll_follow_state_keeps_manual_mode_when_scrolling_down_above_bottom() {
src/prompts/chat/tests.rs:365:            next_chat_scroll_follow_state(true, ChatScrollDirection::Down, false),
src/prompts/chat/tests.rs:371:    fn chat_scroll_follow_state_reenables_follow_when_scrolling_down_at_bottom() {
src/prompts/chat/tests.rs:373:            !next_chat_scroll_follow_state(true, ChatScrollDirection::Down, true),
src/prompts/chat/tests.rs:379:    fn chat_scroll_follow_state_preserves_follow_state_for_non_scrolling_events() {
src/prompts/chat/tests.rs:381:            next_chat_scroll_follow_state(true, ChatScrollDirection::None, false),
src/prompts/chat/tests.rs:385:            !next_chat_scroll_follow_state(false, ChatScrollDirection::None, false),
src/prompts/chat/prompt.rs:7:    pub footer: Option<String>,
src/prompts/chat/prompt.rs:38:    pub(super) user_has_scrolled_up: bool,
src/prompts/chat/prompt.rs:53:    pub(super) script_generation_mode: bool,

thinking
**Diagnosing auto-scroll failure cause**
exec
/bin/zsh -lc "rg -n \"scroll_to_reveal_item\\(|logical_scroll_top\\(|user_has_scrolled_up\" src/prompts/chat src | head -n 200" in /Users/johnlindquist/dev/script-kit-gpui succeeded in 52ms:
src/prompts/chat/render_core.rs:353:                self.user_has_scrolled_up && !self.turns_list_is_at_bottom();
src/prompts/chat/render_core.rs:390:                            this.user_has_scrolled_up,
src/prompts/chat/render_core.rs:395:                        if next_state != this.user_has_scrolled_up {
src/prompts/chat/render_core.rs:403:                            this.user_has_scrolled_up = next_state;
src/prompts/chat/prompt.rs:38:    pub(super) user_has_scrolled_up: bool,
src/prompts/chat/prompt.rs:122:            user_has_scrolled_up: false,
src/prompts/chat/state.rs:36:        let scroll_top = self.turns_list_state.logical_scroll_top();
src/prompts/chat/state.rs:49:        if self.user_has_scrolled_up && self.turns_list_is_at_bottom() {
src/prompts/chat/state.rs:54:            self.user_has_scrolled_up = false;
src/prompts/chat/state.rs:57:        if !self.user_has_scrolled_up {
src/prompts/chat/state.rs:58:            self.turns_list_state.scroll_to_reveal_item(item_count - 1);
src/prompts/chat/state.rs:63:        self.user_has_scrolled_up = false;
src/prompts/chat/state.rs:67:            self.turns_list_state.scroll_to_reveal_item(item_count - 1);
src/prompts/chat/state.rs:149:        self.user_has_scrolled_up = false;
src/prompts/chat/types.rs:193:    user_has_scrolled_up: bool,
src/prompts/chat/types.rs:201:        ChatScrollDirection::Down if user_has_scrolled_up && is_at_bottom => false,
src/prompts/chat/types.rs:202:        ChatScrollDirection::Down | ChatScrollDirection::None => user_has_scrolled_up,
src/render_script_list/part_000.rs:86:        let scroll_offset = self.main_list_state.logical_scroll_top().item_ix;
src/render_script_list/part_000_body/body_000.rs:80:        let scroll_offset = self.main_list_state.logical_scroll_top().item_ix;
src/app_navigation/impl_scroll.rs:15:        self.main_list_state.scroll_to_reveal_item(target);

thinking
**Inspecting existing scroll logic**
exec
/bin/zsh -lc "sed -n '1,220p' src/ai/window/render_messages.rs" in /Users/johnlindquist/dev/script-kit-gpui succeeded in 50ms:
use super::*;

impl AiApp {
    pub(super) fn sync_messages_list_and_scroll_to_bottom(&mut self) {
        let item_count = self.messages_list_item_count();
        let old_count = self.messages_list_state.item_count();
        if old_count != item_count {
            self.messages_list_state.splice(0..old_count, item_count);
        }
        // Only auto-scroll if user hasn't scrolled up
        if item_count > 0 && !self.user_has_scrolled_up {
            self.messages_list_state
                .scroll_to_reveal_item(item_count - 1);
        }
    }

    /// Force scroll to the bottom, regardless of user_has_scrolled_up.
    /// Used when user explicitly triggers scroll-to-bottom (clicking the pill
    /// or submitting a new message).
    pub(super) fn force_scroll_to_bottom(&mut self) {

thinking
**Analyzing scroll and streaming interactions**
exec
/bin/zsh -lc "rg -n \"\\.scroll_to\\(|ListOffset|logical_scroll_top\\(\\)\" src | head -n 200" in /Users/johnlindquist/dev/script-kit-gpui succeeded in 51ms:
src/render_script_list/part_000.rs:86:        let scroll_offset = self.main_list_state.logical_scroll_top().item_ix;
src/render_script_list/part_000_body/body_000.rs:80:        let scroll_offset = self.main_list_state.logical_scroll_top().item_ix;
src/app_navigation/impl_scroll.rs:157:        let current_item = self.main_list_state.logical_scroll_top().item_ix;
src/ai/window/render_messages.rs:111:                        let scroll_top = this.messages_list_state.logical_scroll_top().item_ix;
src/app_impl/lifecycle_reset.rs:281:        self.main_list_state.scroll_to(ListOffset {
src/app_impl/registries_state.rs:275:        self.main_list_state.scroll_to(ListOffset {
src/main.rs:11:    FontWeight, KeyDownEvent, ListAlignment, ListOffset, ListSizingBehavior, ListState,
src/prompts/chat/state.rs:36:        let scroll_top = self.turns_list_state.logical_scroll_top();
src/actions/dialog_part_04_rewire.rs:163:            let scroll_offset = self.list_state.logical_scroll_top().item_ix;
src/actions/dialog/part_04/body_part_02.rs:75:    let scroll_offset = self.list_state.logical_scroll_top().item_ix;

thinking
**Inspecting list offset usage**
exec
/bin/zsh -lc "sed -n '240,320p' src/app_impl/registries_state.rs" in /Users/johnlindquist/dev/script-kit-gpuiexec
/bin/zsh -lc "sed -n '240,340p' src/app_impl/lifecycle_reset.rs" in /Users/johnlindquist/dev/script-kit-gpui succeeded in 51ms:
            *guard = false;
        }

        logging::log(
            "UI",
            "State reset complete - view is now ScriptList (filter, selection, scroll cleared)",
        );
        cx.notify();
    }

    /// Ensure the selection is at the first selectable item.
    ///
    /// This is a lightweight method that only resets the selection position,
    /// without clearing the filter or other state. Call this when showing
    /// the main menu to ensure the user always starts at the top.
    ///
    /// FIX: Resolves bug where main menu sometimes opened with a random item
    /// selected instead of the first item (e.g., "Reset Window Positions"
    /// instead of "AI Chat").
    pub fn ensure_selection_at_first_item(&mut self, cx: &mut Context<Self>) {
 succeeded in 51ms:
            } => {
                Self::clear_builtin_query_state(filter, selected_index);
                self.theme_chooser_scroll_handle
                    .scroll_to_item(0, ScrollStrategy::Top);
            }
            AppView::FileSearchView {
                query,
                selected_index,
            } => {
                Self::clear_builtin_query_state(query, selected_index);
                // Cancel any pending search
                self.file_search_debounce_task = None;
                self.file_search_loading = false;
                self.cached_file_results.clear();
                self.file_search_display_indices.clear();
                self.file_search_scroll_handle
                    .scroll_to_item(0, ScrollStrategy::Top);
            }
            _ => {}
        }
exec
/bin/zsh -lc 'rg -n "struct ListOffset|pub struct ListOffset" $(rustc --print sysroot 2>/dev/null) 2>/dev/null | head' in /Users/johnlindquist/dev/script-kit-gpui succeeded in 684ms:


thinking
**Diagnosing scroll auto-follow issue**
exec
/bin/zsh -lc "sed -n '1,220p' src/prompts/chat/mod.rs" in /Users/johnlindquist/dev/script-kit-gpui succeeded in 51ms:
//! ChatPrompt - Raycast-style chat interface
//!
//! Features:
//! - Input at TOP (not bottom)
//! - Messages bundled as conversation turns (user prompt + AI response in same container)
//! - Full-width containers (not bubbles)
//! - Footer with model selector and "Continue in Chat"
//! - Actions menu (⌘+K) with model picker

use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
use crate::components::TextInputState;
use crate::designs::icon_variations::IconName;
use gpui::{
    div, img, list, prelude::*, px, rgb, rgba, svg, AnyElement, App, Context, ExternalPaths,
    FocusHandle, Focusable, Hsla, KeyDownEvent, ListAlignment, ListSizingBehavior, ListState,
    Render, RenderImage, ScrollWheelEvent, Timer, Window,
};
use gpui_component::{scroll::ScrollableElement, theme::ActiveTheme};
use std::collections::HashMap;
use std::sync::atomic::{AtomicBool, Ordering};

thinking
**Planning custom footer with script buttons**
exec
/bin/zsh -lc 'rg -n "PromptFooter|PromptFooterConfig|PromptFooterColors" src/prompts/chat' in /Users/johnlindquist/dev/script-kit-gpui succeeded in 51ms:
src/prompts/chat/render_core.rs:5:        // Use standard PromptFooter colors from theme
src/prompts/chat/render_core.rs:6:        let footer_colors = PromptFooterColors::from_theme(&self.theme);
src/prompts/chat/render_core.rs:12:        let footer_config = PromptFooterConfig::new()
src/prompts/chat/render_core.rs:22:        // Note: Click handlers are not wired up here because PromptFooter uses
src/prompts/chat/render_core.rs:25:        PromptFooter::new(footer_config, footer_colors)
src/prompts/chat/mod.rs:10:use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};

thinking
**Planning file claims and edits**
codex
I’ve identified a safe path in the current layout: implement the footer directly in `render_core.rs` so script action buttons live in the same footer bar, then remove the standalone action row, and patch builtin streaming completion to keep bottom-follow state consistent. I’m claiming the files I’ll edit now.
exec
/bin/zsh -lc '~/.claude/bin/swarm.ts claim --wait --id codex-footer-buttons-scroll src/prompts/chat/render_core.rs' in /Users/johnlindquist/dev/script-kit-gpuiexec
/bin/zsh -lc '~/.claude/bin/swarm.ts claim --wait --id codex-footer-buttons-scroll src/prompts/chat/tests.rs' in /Users/johnlindquist/dev/script-kit-gpui succeeded in 51ms:
Claimed for codex-footer-buttons-scroll: src/prompts/chat/render_core.rs
 succeeded in 51ms:
Claimed for codex-footer-buttons-scroll: src/prompts/chat/tests.rs
exec
/bin/zsh -lc '~/.claude/bin/swarm.ts claim --wait --id codex-footer-buttons-scroll src/prompts/chat/mod.rs' in /Users/johnlindquist/dev/script-kit-gpuiexec
/bin/zsh -lc '~/.claude/bin/swarm.ts claim --wait --id codex-footer-buttons-scroll src/prompts/chat/streaming.rs' in /Users/johnlindquist/dev/script-kit-gpui succeeded in 114ms:
Claimed for codex-footer-buttons-scroll: src/prompts/chat/streaming.rs
 succeeded in 130ms:
Claimed for codex-footer-buttons-scroll: src/prompts/chat/mod.rs
exec
/bin/zsh -lc '~/.claude/bin/swarm.ts update --id codex-footer-buttons-scroll --status in_progress --notes "Claimed chat files; implementing footer-integrated script actions + builtin streaming follow fix"' in /Users/johnlindquist/dev/script-kit-gpui succeeded in 52ms:
Updated: codex-footer-buttons-scroll

thinking
**Preparing full file edits**
exec
/bin/zsh -lc 'cat src/prompts/chat/render_core.rs' in /Users/johnlindquist/dev/script-kit-gpui succeeded in 51ms:
use super::*;

impl ChatPrompt {
    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
        // Use standard PromptFooter colors from theme
        let footer_colors = PromptFooterColors::from_theme(&self.theme);

        // Build model display text (show model name if available)
        let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());

        // Configure footer with chat-specific labels
        let footer_config = PromptFooterConfig::new()
            .primary_label("Continue in Chat")
            .primary_shortcut("⌘↵")
            .secondary_label("Actions")
            .secondary_shortcut("⌘K")
            .show_logo(true)
            .show_secondary(true)
            .helper_text(model_text) // Show model name next to logo
            .info_label("Shift+Enter newline");

thinking
**Planning footer rewrite and styling**
exec
/bin/zsh -lc 'rg -n "FOOTER_HEIGHT|footer" src/prompts src/render_prompts | head -n 80' in /Users/johnlindquist/dev/script-kit-gpui succeeded in 51ms:
src/render_prompts/form.rs:4:    //! It depends on `form_prompt` entities, shared footer helpers, and `ui_foundation` key semantics.
src/prompts/webcam.rs:4://! provides the standard chrome: vibrancy, footer with logo/Capture/Actions.
src/prompts/webcam.rs:26:/// The standard app container provides the footer, vibrancy, etc.
src/render_prompts/arg.rs:3:    //! Key routines include prompt-footer/status helpers and `render_arg_input_text` for visual state.
src/render_prompts/editor.rs:3:    //! Key routines include footer/status builders and shortcut filtering for editor-reserved bindings.
src/render_prompts/editor.rs:14:fn editor_footer_helper_text(snippet_helper_text: Option<&str>) -> String {
src/render_prompts/editor.rs:22:fn editor_footer_config(
src/render_prompts/editor.rs:27:    prompt_footer_config_with_status("Continue", has_actions, helper_text, info_label)
src/render_prompts/editor.rs:199:        // Clone entity for footer submit button
src/render_prompts/editor.rs:200:        let entity_for_footer = entity.clone();
src/render_prompts/editor.rs:205:        // Extract editor state for footer display
src/render_prompts/editor.rs:242:        // - Editor wrapper using flex_1 to fill remaining space above footer
src/render_prompts/editor.rs:265:            // Unified footer with Submit + Actions
src/render_prompts/editor.rs:269:                let entity_weak = entity_for_footer.downgrade();
src/render_prompts/editor.rs:272:                let footer_colors = PromptFooterColors::from_theme(&self.theme);
src/render_prompts/editor.rs:275:                let helper_text = Some(editor_footer_helper_text(snippet_helper_text.as_deref()));
src/render_prompts/editor.rs:276:                let footer_config =
src/render_prompts/editor.rs:277:                    editor_footer_config(has_actions, helper_text, Some(language_label.clone()));
src/render_prompts/editor.rs:279:                let mut footer = PromptFooter::new(footer_config, footer_colors).on_primary_click(
src/render_prompts/editor.rs:299:                    footer = footer.on_secondary_click(Box::new(move |_, window, cx| {

thinking
**Designing reusable footer components**
exec
/bin/zsh -lc "sed -n '1,220p' src/actions_button_visibility_tests.rs" in /Users/johnlindquist/dev/script-kit-gpui succeeded in 52ms:
//! Regression tests for actions button visibility in the main script list.

#[cfg(test)]
mod tests {
    use std::fs;

    #[test]
    fn test_has_actions_helper_exists_and_handles_clipboard() {
        let content = fs::read_to_string("src/app_actions/handle_action.rs")
            .expect("Failed to read src/app_actions/handle_action.rs");

        assert!(
            content.contains("fn has_actions"),
            "Expected ScriptListApp::has_actions() helper to exist"
        );

        assert!(
            content.contains("ClipboardHistoryView"),
            "has_actions() should account for ClipboardHistoryView selection"
        );

thinking
**Designing footer patch plan**
codex
I’m editing `render_core.rs` now to replace the standalone script-action row with footer-integrated controls and to remove the old `.when_some(self.render_script_generation_actions(...))` block from the main render tree.
file update
M /Users/johnlindquist/dev/script-kit-gpui/src/prompts/chat/render_core.rs
@@ -3,27 +3,119 @@
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
+
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
@@ -41,12 +133,8 @@
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
@@ -59,4 +147,4 @@
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
@@ -75,16 +163,10 @@
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
@@ -104,2 +186,6 @@
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
@@ -473,7 +559,2 @@
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
apply_patch(auto_approved=true) exited 0 in 12ms:
Success. Updated the following files:
M src/prompts/chat/render_core.rs
file update:
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..0fc512833654487edb3ab51c08feac5b57d54c95
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,123 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
+
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +131,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +145,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +161,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +184,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +557,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback

file update:
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..0fc512833654487edb3ab51c08feac5b57d54c95
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,123 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
+
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +131,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +145,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +161,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +184,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +557,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback


thinking
**Cleaning up unused imports**
file update
M /Users/johnlindquist/dev/script-kit-gpui/src/prompts/chat/mod.rs
@@ -9,3 +9,3 @@
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
apply_patch(auto_approved=true) exited 0 in 17ms:
Success. Updated the following files:
M src/prompts/chat/mod.rs
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..0fc512833654487edb3ab51c08feac5b57d54c95
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,123 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
+
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +131,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +145,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +161,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +184,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +557,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback

file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..0fc512833654487edb3ab51c08feac5b57d54c95
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,123 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
+
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +131,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +145,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +161,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +184,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +557,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback


thinking
**Scoping patch around streaming completion**
exec
/bin/zsh -lc "rg -n \"Built-in AI complete|Built-in AI error|mark_conversation_turns_dirty\\(\\);\" src/prompts/chat/streaming.rs" in /Users/johnlindquist/dev/script-kit-gpui succeeded in 51ms:
68:        self.mark_conversation_turns_dirty();
81:                self.mark_conversation_turns_dirty();
105:                self.mark_conversation_turns_dirty();
157:        self.mark_conversation_turns_dirty();
210:                self.mark_conversation_turns_dirty();
234:                self.mark_conversation_turns_dirty();
265:        self.mark_conversation_turns_dirty();
385:                                logging::log("CHAT", &format!("Built-in AI error: {}", err));
396:                                chat.mark_conversation_turns_dirty();
419:                                chat.mark_conversation_turns_dirty();
438:                                    chat.mark_conversation_turns_dirty();
448:                                    &format!("Built-in AI complete: {} chars", full_text.len()),
459:                                chat.mark_conversation_turns_dirty();
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..0fc512833654487edb3ab51c08feac5b57d54c95
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,123 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
+
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +131,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +145,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +161,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +184,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +557,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback

exec
/bin/zsh -lc "sed -n '368,476p' src/prompts/chat/streaming.rs" in /Users/johnlindquist/dev/script-kit-gpui succeeded in 53ms:
                let msg_id = msg_id_for_loop.clone();
                let should_break = cx
                    .update(|cx| {
                        this.update(cx, |chat, cx| {
                            if should_ignore_stream_reveal_update(
                                chat.streaming_message_id.as_deref(),
                                &msg_id,
                            ) {
                                logging::log(
                                    "CHAT",
                                    "Stopping stale stream reveal loop after stream handoff/stop",
                                );
                                return true;
                            }

                            // Error path
                            if let Some(err) = &error {
                                logging::log("CHAT", &format!("Built-in AI error: {}", err));
                                chat.builtin_is_streaming = false;
                                chat.streaming_message_id = None;
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..0fc512833654487edb3ab51c08feac5b57d54c95
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,123 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
+
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +131,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +145,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +161,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +184,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +557,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback


thinking
**Adding scroll on completion**
codex
I’m patching builtin streaming completion now so we explicitly re-apply bottom-follow after flipping `msg.streaming=false`; this keeps auto-scroll aligned through the final render transition in script generation mode.
file update
M /Users/johnlindquist/dev/script-kit-gpui/src/prompts/chat/streaming.rs
@@ -397,2 +397,3 @@
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
apply_patch(auto_approved=true) exited 0 in 22ms:
Success. Updated the following files:
M src/prompts/chat/streaming.rs
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..0fc512833654487edb3ab51c08feac5b57d54c95
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,123 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
+
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +131,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +145,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +161,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +184,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +557,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..3773c4a1dd43efbb0a1d6beaaa98e407e6ebac69
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }

file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..0fc512833654487edb3ab51c08feac5b57d54c95
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,123 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
+
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +131,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +145,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +161,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +184,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +557,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..3773c4a1dd43efbb0a1d6beaaa98e407e6ebac69
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }


thinking
**Adding source-level footer and streaming tests**
file update
M /Users/johnlindquist/dev/script-kit-gpui/src/prompts/chat/tests.rs
@@ -4,3 +4,3 @@
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
@@ -177,2 +177,26 @@
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
@@ -288,2 +312,16 @@
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
apply_patch(auto_approved=true) exited 0 in 25ms:
Success. Updated the following files:
M src/prompts/chat/tests.rs
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..0fc512833654487edb3ab51c08feac5b57d54c95
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,123 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
+
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +131,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +145,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +161,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +184,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +557,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..3773c4a1dd43efbb0a1d6beaaa98e407e6ebac69
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]

file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..0fc512833654487edb3ab51c08feac5b57d54c95
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,123 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
+
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +131,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +145,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +161,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +184,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +557,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..3773c4a1dd43efbb0a1d6beaaa98e407e6ebac69
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]


thinking
**Planning focused code formatting**
codex
Footer integration and streaming patches are in place, and I added regression tests covering the moved footer controls plus completion-time scroll follow. I’m formatting the touched Rust files next, then running scoped verification (`cargo check` and targeted chat tests).
exec
/bin/zsh -lc 'rustfmt src/prompts/chat/render_core.rs src/prompts/chat/streaming.rs src/prompts/chat/tests.rs src/prompts/chat/mod.rs' in /Users/johnlindquist/dev/script-kit-gpui exited 1 in 52ms:
error: `async move` blocks are only allowed in Rust 2018 or later
   --> /Users/johnlindquist/dev/script-kit-gpui/src/prompts/chat/streaming.rs:342:18
    |
342 |         cx.spawn(async move |this, cx| {
    |                  ^^^^^-^^^^
    |                       |
    |                       help: missing `,`

error: `async move` blocks are only allowed in Rust 2018 or later
   --> /Users/johnlindquist/dev/script-kit-gpui/src/prompts/chat/actions.rs:182:22
    |
182 |             cx.spawn(async move |this, cx| {
    |                      ^^^^^-^^^^
    |                           |
    |                           help: missing `,`

Error writing files: failed to resolve mod `actions`: cannot parse /Users/johnlindquist/dev/script-kit-gpui/src/prompts/chat/actions.rs
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..3773c4a1dd43efbb0a1d6beaaa98e407e6ebac69
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]


thinking
**Testing targeted formatting**
exec
/bin/zsh -lc 'cargo fmt -- src/prompts/chat/render_core.rs src/prompts/chat/streaming.rs src/prompts/chat/tests.rs src/prompts/chat/mod.rs' in /Users/johnlindquist/dev/script-kit-gpui exited 1 in 165ms:
Error writing files: failed to resolve mod `tests`: file for module found at both "/Users/johnlindquist/dev/script-kit-gpui/src/protocol/message/tests.rs" and "/Users/johnlindquist/dev/script-kit-gpui/src/protocol/message/tests/mod.rs"
Error writing files: failed to resolve mod `tests`: file for module found at both "/Users/johnlindquist/dev/script-kit-gpui/src/protocol/message/tests.rs" and "/Users/johnlindquist/dev/script-kit-gpui/src/protocol/message/tests/mod.rs"
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..3773c4a1dd43efbb0a1d6beaaa98e407e6ebac69
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]


thinking
**Planning scoped compile and test runs**
exec
/bin/zsh -lc "sed -n '1,220p' src/prompts/chat/render_core.rs" in /Users/johnlindquist/dev/script-kit-gpuiexec
/bin/zsh -lc "sed -n '220,620p' src/prompts/chat/render_core.rs" in /Users/johnlindquist/dev/script-kit-gpuiexec
/bin/zsh -lc "sed -n '420,500p' src/prompts/chat/streaming.rs" in /Users/johnlindquist/dev/script-kit-gpuiexec
/bin/zsh -lc "sed -n '1,280p' src/prompts/chat/tests.rs" in /Users/johnlindquist/dev/script-kit-gpui succeeded in 51ms:
use super::*;

impl ChatPrompt {
    fn render_footer_button(
        &self,
        id: &'static str,
        label: &'static str,
        shortcut: &'static str,
        accent_color: u32,
        muted_color: u32,
    ) -> AnyElement {
        div()
            .id(id)
            .flex()
            .flex_row()
            .items_center()
            .gap(px(6.0))
            .px(px(8.0))
            .py(px(2.0))
            .rounded(px(4.0))
 succeeded in 51ms:
                                chat.mark_conversation_turns_dirty();
                                chat.scroll_turns_to_bottom();
                                cx.notify();
                            } else if let Some(new_offset) =
                                next_reveal_boundary(&full_text, current_offset)
                            {
                                if new_offset > current_offset {
                                    chat.builtin_reveal_offset = new_offset;
                                    let revealed = &full_text[..new_offset];

                                    if let Some(msg) = chat
                                        .messages
                                        .iter_mut()
                                        .find(|m| m.id.as_deref() == Some(&msg_id))
                                    {
                                        msg.set_content(revealed);
                                    }
                                    chat.builtin_streaming_content = revealed.to_string();
                                    chat.builtin_accumulated_content = full_text.clone();
                                    chat.mark_conversation_turns_dirty();
 succeeded in 51ms:
        // Start cursor blink timer on first render (only needed when not in setup mode)
        if !self.needs_setup && !self.cursor_blink_started {
            self.cursor_blink_started = true;
            self.start_cursor_blink(cx);
        }

        // Process pending_submit on first render (used when Tab opens chat with query)
        // Skip if in setup mode or while providers are still loading
        if !self.needs_setup
            && !self.loading_providers
            && self.pending_submit
            && !self.input.is_empty()
        {
            self.pending_submit = false;
            logging::log(
                "CHAT",
                "Processing pending_submit - auto-submitting query from Tab",
            );
            self.handle_submit(cx);
        }
 succeeded in 51ms:
use super::*;
#[cfg(test)]
#[allow(clippy::module_inception)]
mod tests {
    use std::{collections::HashMap, fs};

    use crate::protocol::ChatPromptMessage;

    use super::{
        next_chat_scroll_follow_state, next_reveal_boundary, resolve_chat_input_key_action,
        resolve_setup_card_key, should_ignore_stream_reveal_update,
        should_show_script_generation_actions, ChatInputKeyAction, ChatScrollDirection,
        ScriptGenerationAction, SetupCardAction,
    };

    #[test]
    fn resolve_setup_card_key_cycles_focus_for_tab_and_arrows() {
        assert_eq!(
            resolve_setup_card_key("tab", false, 0),
            (1, SetupCardAction::None, true)
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..3773c4a1dd43efbb0a1d6beaaa98e407e6ebac69
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]


thinking
**Inspecting scroll call placement**
exec
/bin/zsh -lc "rg -n \"ensure_conversation_turns_cache\\(\\)|scroll_turns_to_bottom\\(\\)\" src/prompts/chat/streaming.rs" in /Users/johnlindquist/dev/script-kit-gpui succeeded in 51ms:
69:        self.force_scroll_turns_to_bottom();
82:                self.ensure_conversation_turns_cache();
106:                self.ensure_conversation_turns_cache();
158:        self.force_scroll_turns_to_bottom();
211:                self.ensure_conversation_turns_cache();
235:                self.ensure_conversation_turns_cache();
266:        self.force_scroll_turns_to_bottom();
397:                                chat.ensure_conversation_turns_cache();
398:                                chat.scroll_turns_to_bottom();
421:                                chat.scroll_turns_to_bottom();
440:                                    chat.scroll_turns_to_bottom();
461:                                chat.ensure_conversation_turns_cache();
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..3773c4a1dd43efbb0a1d6beaaa98e407e6ebac69
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]


thinking
**Correcting scroll insertion point**
file update
M /Users/johnlindquist/dev/script-kit-gpui/src/prompts/chat/streaming.rs
@@ -461,2 +461,3 @@
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
apply_patch(auto_approved=true) exited 0 in 26ms:
Success. Updated the following files:
M src/prompts/chat/streaming.rs
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..2439d6bd113a53333cd1168bf3141655a5aa028c
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
@@ -458,6 +459,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]

file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..2439d6bd113a53333cd1168bf3141655a5aa028c
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
@@ -458,6 +459,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]


thinking
**Considering error path scroll insertion**
exec
/bin/zsh -lc "sed -n '380,474p' src/prompts/chat/streaming.rs" in /Users/johnlindquist/dev/script-kit-gpui succeeded in 50ms:
                                return true;
                            }

                            // Error path
                            if let Some(err) = &error {
                                logging::log("CHAT", &format!("Built-in AI error: {}", err));
                                chat.builtin_is_streaming = false;
                                chat.streaming_message_id = None;
                                if let Some(msg) = chat
                                    .messages
                                    .iter_mut()
                                    .find(|m| m.id.as_deref() == Some(&msg_id))
                                {
                                    msg.error = Some(err.clone());
                                    msg.streaming = false;
                                }
                                chat.mark_conversation_turns_dirty();
                                chat.ensure_conversation_turns_cache();
                                chat.scroll_turns_to_bottom();
                                cx.notify();
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..2439d6bd113a53333cd1168bf3141655a5aa028c
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
@@ -458,6 +459,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]


thinking
**Preparing for compilation and tests**
codex
The footer/action integration compiles visually on inspection, and the streaming completion path now re-applies `scroll_turns_to_bottom()` after finalizing the stream message. I’m running verification next: scoped `cargo check` and focused chat tests for the added regressions.
exec
/bin/zsh -lc 'cargo check -p script-kit-gpui' in /Users/johnlindquist/dev/script-kit-gpui succeeded in 10.47s:
    Blocking waiting for file lock on build directory
    Checking script-kit-gpui v0.1.0 (/Users/johnlindquist/dev/script-kit-gpui)
warning: glob import doesn't reexport anything with visibility `pub(in crate::prompts)` because no imported item is public enough
  --> src/prompts/div/mod.rs:32:16
   |
32 | pub(super) use inline::*;
   |                ^^^^^^^^^
   |
note: the most public imported item is `pub(self)`
  --> src/prompts/div/mod.rs:32:16
   |
32 | pub(super) use inline::*;
   |                ^^^^^^^^^
   = help: reduce the glob import's visibility or increase visibility of imported items
   = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: glob import doesn't reexport anything with visibility `pub(in crate::prompts)` because no imported item is public enough
  --> src/prompts/div/mod.rs:34:16
   |
34 | pub(super) use render_html::*;
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..2439d6bd113a53333cd1168bf3141655a5aa028c
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
@@ -458,6 +459,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]


thinking
**Running targeted tests**
exec
/bin/zsh -lc 'cargo test -p script-kit-gpui script_generation_actions_render_in_footer_instead_of_standalone_row -- --nocapture' in /Users/johnlindquist/dev/script-kit-gpuiexec
/bin/zsh -lc 'cargo test -p script-kit-gpui builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize -- --nocapture' in /Users/johnlindquist/dev/script-kit-gpui exited 101 in 19.33s:
    Blocking waiting for file lock on package cache
    Blocking waiting for file lock on package cache
    Blocking waiting for file lock on package cache
warning: glob import doesn't reexport anything with visibility `pub(in crate::prompts)` because no imported item is public enough
  --> src/prompts/div/mod.rs:32:16
   |
32 | pub(super) use inline::*;
   |                ^^^^^^^^^
   |
note: the most public imported item is `pub(self)`
  --> src/prompts/div/mod.rs:32:16
   |
32 | pub(super) use inline::*;
   |                ^^^^^^^^^
   = help: reduce the glob import's visibility or increase visibility of imported items
   = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: glob import doesn't reexport anything with visibility `pub(in crate::prompts)` because no imported item is public enough
  --> src/prompts/div/mod.rs:34:16
   |
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..2439d6bd113a53333cd1168bf3141655a5aa028c
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
@@ -458,6 +459,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]


thinking
**Monitoring parallel test outcomes**
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..2439d6bd113a53333cd1168bf3141655a5aa028c
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
@@ -458,6 +459,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]

 exited 101 in 37.60s:
    Blocking waiting for file lock on package cache
    Blocking waiting for file lock on package cache
    Blocking waiting for file lock on build directory
warning: glob import doesn't reexport anything with visibility `pub(in crate::prompts)` because no imported item is public enough
  --> src/prompts/div/mod.rs:32:16
   |
32 | pub(super) use inline::*;
   |                ^^^^^^^^^
   |
note: the most public imported item is `pub(self)`
  --> src/prompts/div/mod.rs:32:16
   |
32 | pub(super) use inline::*;
   |                ^^^^^^^^^
   = help: reduce the glob import's visibility or increase visibility of imported items
   = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: glob import doesn't reexport anything with visibility `pub(in crate::prompts)` because no imported item is public enough
  --> src/prompts/div/mod.rs:34:16
   |
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..2439d6bd113a53333cd1168bf3141655a5aa028c
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
@@ -458,6 +459,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]


thinking
**Assessing test run limits due unrelated compile errors**
codex
`cargo check -p script-kit-gpui` passed. Targeted `cargo test` commands are currently blocked by unrelated pre-existing test-compile failures in other modules (outside this task scope), so I’m validating the final diff now and then I’ll report exact verification status and gaps.
exec
/bin/zsh -lc 'git status --short' in /Users/johnlindquist/dev/script-kit-gpuiexec
/bin/zsh -lc 'git diff -- src/prompts/chat/render_core.rs src/prompts/chat/streaming.rs src/prompts/chat/tests.rs src/prompts/chat/mod.rs' in /Users/johnlindquist/dev/script-kit-gpui succeeded in 51ms:
 M .ai/logs/codex-audit-act-description-quality-v2.final.md
 M .ai/logs/codex-audit-act-execution-builtin.final.md
 M .ai/logs/codex-audit-act-execution-scripts.final.md
 M .ai/logs/codex-audit-act-keyboard-nav.final.md
 M .ai/logs/codex-audit-act-section-grouping.final.md
 M .ai/logs/codex-audit-act-theme-dialog-render.final.md
 M .ai/roster.json
 M src/actions/builders.rs
 M src/actions/builders/chat.rs
 M src/actions/builders/clipboard.rs
 M src/actions/builders/file_path.rs
 M src/actions/builders/notes.rs
 M src/actions/builders/script_context.rs
 M src/actions/builders/scriptlet.rs
 M src/actions/builders/shared.rs
 M src/actions/command_bar/part_01.rs
 M src/actions/command_bar/part_02.rs
 M src/actions/constants.rs
 M src/actions/dialog/part_01.rs
 M src/actions/dialog/part_02/part_01.rs
 succeeded in 53ms:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 7dd2dc3..e49cab0 100644
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,13 +7,13 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
-    div, img, list, prelude::*, px, rgb, rgba, svg, App, Context, ExternalPaths, FocusHandle,
-    Focusable, Hsla, KeyDownEvent, ListAlignment, ListSizingBehavior, ListState, Render,
-    RenderImage, ScrollWheelEvent, Timer, Window,
+    div, img, list, prelude::*, px, rgb, rgba, svg, AnyElement, App, Context, ExternalPaths,
+    FocusHandle, Focusable, Hsla, KeyDownEvent, ListAlignment, ListSizingBehavior, ListState,
+    Render, RenderImage, ScrollWheelEvent, Timer, Window,
 };
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..2439d6bd113a53333cd1168bf3141655a5aa028c
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
@@ -458,6 +459,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]

context compacted
Reconnecting... 1/5 (stream disconnected before completion: An error occurred while processing your request. You can retry your request, or contact us through our help center at help.openai.com if the error persists. Please include the request ID 3c627268-fcba-4f4c-8cc6-7e7752b70951 in your message.)

thinking
**Planning final verification**
codex
I’m picking up from the current workspace state and will first verify the claimed-file changes still compile, then I’ll finish swarm status/claim cleanup and provide a concise handoff with test guidance and known gaps.

thinking
**Checking status and diffs**
exec
/bin/zsh -lc '~/.claude/bin/swarm.ts status' in /Users/johnlindquist/dev/script-kit-gpuiexec
/bin/zsh -lc 'git status --short' in /Users/johnlindquist/dev/script-kit-gpui succeeded in 52ms:
Repo: /Users/johnlindquist/dev/script-kit-gpui
Updated: 2026-02-08T06:04:22.077Z

Active agents (1):
codex-footer-buttons-scroll [in_progress] codex/gpt-5.3-codex/exec
  task: Two UI fixes for the script generation ChatPrompt (see screenshot context): 1) MOVE Save/Run/Save and Run buttons TO TH…
  scope: src/prompts/chat/render_core.rs,src/prompts/chat/render_footer.rs,src/prompts/chat/render_messages.rs,src/prompts/chat/…
  claims(4): src/prompts/chat/render_core.rs, src/prompts/chat/tests.rs, src/prompts/chat/streaming.rs, src/prompts/chat/mod.rs
  notes: Claimed chat files; implementing footer-integrated script actions + builtin streaming follow fix

Inactive agents (268):
- codex-accessibility [done] done. exit=0. final=.ai/logs/codex-accessibility.final.md. See final message file.
- codex-action-labels [failed] failed. exit=1. final=.ai/logs/codex-action-labels.final.md.
- codex-actions-audit [failed] failed. exit=1. final=.ai/logs/codex-actions-audit.final.md. See final message file.
- codex-actions-consistency [failed] failed. exit=1. final=.ai/logs/codex-actions-consistency.final.md.
- codex-actions-dialog [done] done. exit=0. final=.ai/logs/codex-actions-dialog.final.md. See final message file.
- codex-actions-feedback [failed] failed. exit=1. final=.ai/logs/codex-actions-feedback.final.md.
- codex-actions-feedback-v2 [done] done. exit=0. final=.ai/logs/codex-actions-feedback-v2.final.md. See final message file.
- codex-actions-ux [done] done. exit=0. final=.ai/logs/codex-actions-ux.final.md. See final message file.
- codex-agents-md [done] done. exit=0. final=.ai/logs/codex-agents-md.final.md. See final message file.
 succeeded in 52ms:
 M .ai/logs/codex-audit-act-description-quality-v2.final.md
 M .ai/logs/codex-audit-act-execution-builtin.final.md
 M .ai/logs/codex-audit-act-execution-scripts.final.md
 M .ai/logs/codex-audit-act-keyboard-nav.final.md
 M .ai/logs/codex-audit-act-section-grouping.final.md
 M .ai/logs/codex-audit-act-theme-dialog-render.final.md
 M .ai/roster.json
 M src/actions/builders.rs
 M src/actions/builders/chat.rs
 M src/actions/builders/clipboard.rs
 M src/actions/builders/file_path.rs
 M src/actions/builders/notes.rs
 M src/actions/builders/script_context.rs
 M src/actions/builders/scriptlet.rs
 M src/actions/builders/shared.rs
 M src/actions/command_bar/part_01.rs
 M src/actions/command_bar/part_02.rs
 M src/actions/constants.rs
 M src/actions/dialog/part_01.rs
 M src/actions/dialog/part_02/part_01.rs
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..2439d6bd113a53333cd1168bf3141655a5aa028c
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
@@ -458,6 +459,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]


thinking
**Inspecting local file diffs**
codex
I confirmed the branch is heavily modified by parallel agents. Next I’m validating only the chat files in your scope to ensure this task’s behavior is correct and compilable before I finalize.
exec
/bin/zsh -lc 'git diff -- src/prompts/chat/render_core.rs' in /Users/johnlindquist/dev/script-kit-gpuiexec
/bin/zsh -lc 'git diff -- src/prompts/chat/streaming.rs' in /Users/johnlindquist/dev/script-kit-gpui succeeded in 53ms:
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index e24f659..59f504a 100644
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,28 +1,201 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
 succeeded in 52ms:
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index 8d317a6..2439d6b 100644
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -11,6 +11,7 @@ impl ChatPrompt {
         }
         logging::log("CHAT", &format!("User submitted: {}", text));
         self.input.clear();
+        self.clear_script_generation_status();
 
         // If built-in AI mode is enabled, handle the AI call directly
         if self.has_builtin_ai() {
@@ -111,6 +112,10 @@ impl ChatPrompt {
         // Build messages for the API call (convert our messages to provider format)
         let mut api_messages: Vec<ProviderMessage> = Vec::new();
 
+        if let Some(system_prompt) = self.builtin_system_prompt.clone() {
+            api_messages.push(ProviderMessage::system(system_prompt));
+        }
+
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..2439d6bd113a53333cd1168bf3141655a5aa028c
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
@@ -458,6 +459,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]


thinking
**Reviewing unrelated diff changes**
exec
/bin/zsh -lc 'git diff -- src/prompts/chat/mod.rs' in /Users/johnlindquist/dev/script-kit-gpuiexec
/bin/zsh -lc 'git diff -- src/prompts/chat/tests.rs' in /Users/johnlindquist/dev/script-kit-gpui succeeded in 53ms:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 7dd2dc3..e49cab0 100644
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,13 +7,13 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
-    div, img, list, prelude::*, px, rgb, rgba, svg, App, Context, ExternalPaths, FocusHandle,
-    Focusable, Hsla, KeyDownEvent, ListAlignment, ListSizingBehavior, ListState, Render,
-    RenderImage, ScrollWheelEvent, Timer, Window,
+    div, img, list, prelude::*, px, rgb, rgba, svg, AnyElement, App, Context, ExternalPaths,
+    FocusHandle, Focusable, Hsla, KeyDownEvent, ListAlignment, ListSizingBehavior, ListState,
+    Render, RenderImage, ScrollWheelEvent, Timer, Window,
 };
 succeeded in 51ms:
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 83e3290..ada5d94 100644
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,14 +2,15 @@ use super::*;
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
     use super::{
         next_chat_scroll_follow_state, next_reveal_boundary, resolve_chat_input_key_action,
-        resolve_setup_card_key, should_ignore_stream_reveal_update, ChatInputKeyAction,
-        ChatScrollDirection, SetupCardAction,
+        resolve_setup_card_key, should_ignore_stream_reveal_update,
+        should_show_script_generation_actions, ChatInputKeyAction, ChatScrollDirection,
+        ScriptGenerationAction, SetupCardAction,
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..2439d6bd113a53333cd1168bf3141655a5aa028c
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
@@ -458,6 +459,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]


thinking
**Verifying test additions and changes**
exec
/bin/zsh -lc 'git diff -- src/prompts/chat/prompt.rs src/prompts/chat/types.rs src/prompts/chat/render_messages.rs src/prompts/chat/render_footer.rs' in /Users/johnlindquist/dev/script-kit-gpui succeeded in 51ms:
diff --git a/src/prompts/chat/prompt.rs b/src/prompts/chat/prompt.rs
index c22d02f..4ef4ac1 100644
--- a/src/prompts/chat/prompt.rs
+++ b/src/prompts/chat/prompt.rs
@@ -27,6 +27,7 @@ pub struct ChatPrompt {
     pub(super) provider_registry: Option<ProviderRegistry>,
     pub(super) available_models: Vec<ModelInfo>,
     pub(super) selected_model: Option<ModelInfo>,
+    pub(super) builtin_system_prompt: Option<String>,
     pub(super) builtin_streaming_content: String,
     pub(super) builtin_is_streaming: bool,
     // Word-buffered reveal: full accumulated content from provider and reveal watermark
@@ -48,6 +49,10 @@ pub struct ChatPrompt {
     pub(super) loading_providers: bool,
     // Setup mode: when true, shows API key configuration card instead of chat
     pub(super) needs_setup: bool,
+    // Script generation mode: enables post-response Save/Run actions
+    pub(super) script_generation_mode: bool,
+    pub(super) script_generation_status: Option<String>,
+    pub(super) script_generation_status_is_error: bool,
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..2439d6bd113a53333cd1168bf3141655a5aa028c
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
@@ -458,6 +459,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]


thinking
**Verifying integration with existing changes**
codex
I’ve confirmed the footer and streaming files contain the intended hooks. I’m running a scoped `cargo check` now to make sure these edits still compile cleanly in the current shared tree.
exec
/bin/zsh -lc 'cargo check -p script-kit-gpui' in /Users/johnlindquist/dev/script-kit-gpui succeeded in 255ms:
warning: glob import doesn't reexport anything with visibility `pub(in crate::prompts)` because no imported item is public enough
  --> src/prompts/div/mod.rs:32:16
   |
32 | pub(super) use inline::*;
   |                ^^^^^^^^^
   |
note: the most public imported item is `pub(self)`
  --> src/prompts/div/mod.rs:32:16
   |
32 | pub(super) use inline::*;
   |                ^^^^^^^^^
   = help: reduce the glob import's visibility or increase visibility of imported items
   = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: glob import doesn't reexport anything with visibility `pub(in crate::prompts)` because no imported item is public enough
  --> src/prompts/div/mod.rs:34:16
   |
34 | pub(super) use render_html::*;
   |                ^^^^^^^^^^^^^^
   |
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..2439d6bd113a53333cd1168bf3141655a5aa028c
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
@@ -458,6 +459,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]


thinking
**Running targeted test for verification**
codex
`cargo check` passed. I’ll run targeted chat tests next; if they fail due unrelated parallel changes in the shared tree, I’ll report that explicitly as a known verification gap.
exec
/bin/zsh -lc 'cargo test -p script-kit-gpui script_generation_actions_render_in_footer_instead_of_standalone_row -- --nocapture' in /Users/johnlindquist/dev/script-kit-gpui exited 101 in 18.38s:
warning: glob import doesn't reexport anything with visibility `pub(in crate::prompts)` because no imported item is public enough
  --> src/prompts/div/mod.rs:32:16
   |
32 | pub(super) use inline::*;
   |                ^^^^^^^^^
   |
note: the most public imported item is `pub(self)`
  --> src/prompts/div/mod.rs:32:16
   |
32 | pub(super) use inline::*;
   |                ^^^^^^^^^
   = help: reduce the glob import's visibility or increase visibility of imported items
   = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: glob import doesn't reexport anything with visibility `pub(in crate::prompts)` because no imported item is public enough
  --> src/prompts/div/mod.rs:34:16
   |
34 | pub(super) use render_html::*;
   |                ^^^^^^^^^^^^^^
   |
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..2439d6bd113a53333cd1168bf3141655a5aa028c
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
@@ -458,6 +459,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]


thinking
**Assessing test and linter scope**
exec
/bin/zsh -lc "nl -ba src/prompts/chat/render_core.rs | sed -n '1,260p'" in /Users/johnlindquist/dev/script-kit-gpui succeeded in 52ms:
     1	use super::*;
     2	
     3	impl ChatPrompt {
     4	    fn render_footer_button(
     5	        &self,
     6	        id: &'static str,
     7	        label: &'static str,
     8	        shortcut: &'static str,
     9	        accent_color: u32,
    10	        muted_color: u32,
    11	    ) -> AnyElement {
    12	        div()
    13	            .id(id)
    14	            .flex()
    15	            .flex_row()
    16	            .items_center()
    17	            .gap(px(6.0))
    18	            .px(px(8.0))
    19	            .py(px(2.0))
    20	            .rounded(px(4.0))
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..2439d6bd113a53333cd1168bf3141655a5aa028c
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
@@ -458,6 +459,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]


thinking
**Inspecting layout around removed action row**
exec
/bin/zsh -lc "nl -ba src/prompts/chat/render_core.rs | sed -n '260,460p'" in /Users/johnlindquist/dev/script-kit-gpui succeeded in 51ms:
   260	        let on_configure = self.on_configure.clone();
   261	        let on_claude_code = self.on_claude_code.clone();
   262	
   263	        let handle_key = cx.listener(move |this, event: &KeyDownEvent, _window, cx| {
   264	            let key = event.keystroke.key.as_str();
   265	            let key_lower = event.keystroke.key.to_ascii_lowercase();
   266	            let key_char = event.keystroke.key_char.as_deref();
   267	            let modifiers = &event.keystroke.modifiers;
   268	
   269	            // Setup mode: keyboard navigation for Configure / Claude Code buttons
   270	            if needs_setup {
   271	                let (next_index, action, changed) = resolve_setup_card_key(
   272	                    key,
   273	                    event.keystroke.modifiers.shift,
   274	                    this.setup_focus_index,
   275	                );
   276	                let handled = changed || !matches!(action, SetupCardAction::None);
   277	
   278	                if changed {
   279	                    this.setup_focus_index = next_index;
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..2439d6bd113a53333cd1168bf3141655a5aa028c
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
@@ -458,6 +459,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]


thinking
**Searching action row removal points**
exec
/bin/zsh -lc "nl -ba src/prompts/chat/render_core.rs | sed -n '460,620p'" in /Users/johnlindquist/dev/script-kit-gpui succeeded in 50ms:
   460	
   461	            div()
   462	                .id("chat-messages")
   463	                .relative()
   464	                .flex_1()
   465	                .min_h(px(0.))
   466	                .on_scroll_wheel(
   467	                    cx.listener(move |this, event: &ScrollWheelEvent, _window, cx| {
   468	                        let delta_y = event.delta.pixel_delta(px(1.0)).y;
   469	                        let direction = if delta_y > px(0.) {
   470	                            ChatScrollDirection::Up
   471	                        } else if delta_y < px(0.) {
   472	                            ChatScrollDirection::Down
   473	                        } else {
   474	                            ChatScrollDirection::None
   475	                        };
   476	
   477	                        let is_at_bottom = this.turns_list_is_at_bottom();
   478	                        let next_state = next_chat_scroll_follow_state(
   479	                            this.user_has_scrolled_up,
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..2439d6bd113a53333cd1168bf3141655a5aa028c
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
@@ -458,6 +459,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]


thinking
**Planning streaming line inspection**
exec
/bin/zsh -lc "nl -ba src/prompts/chat/streaming.rs | sed -n '340,520p'" in /Users/johnlindquist/dev/script-kit-gpui succeeded in 51ms:
   340	        let msg_id_for_loop = msg_id.clone();
   341	
   342	        cx.spawn(async move |this, cx| {
   343	            let mut delay_counter: u64 = 0;
   344	
   345	            loop {
   346	                // Variable delay per word: 50-80ms for natural pacing
   347	                // (kept above 50ms to avoid excessive markdown re-parsing)
   348	                delay_counter = delay_counter.wrapping_add(17);
   349	                let delay = 50 + (delay_counter % 30);
   350	                Timer::after(Duration::from_millis(delay)).await;
   351	
   352	                // Read is_done BEFORE accumulated content to avoid race condition:
   353	                // if done is true, stream_message has returned, so all chunks have
   354	                // been pushed to shared_content. Reading in the other order could
   355	                // snapshot partial content then see done=true, finalizing truncated text.
   356	                let is_done = done_for_poll.load(Ordering::SeqCst);
   357	                let accumulated = content_for_poll.lock().ok().map(|c| c.clone());
   358	                let error = if is_done {
   359	                    error_for_poll.lock().ok().and_then(|e| e.clone())
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..2439d6bd113a53333cd1168bf3141655a5aa028c
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
@@ -458,6 +459,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]


thinking
**Assessing footer and scrolling logic**
exec
/bin/zsh -lc 'rg -n "fn scroll_turns_to_bottom|force_scroll_turns_to_bottom|user_has_scrolled_up" src/prompts/chat -n' in /Users/johnlindquist/dev/script-kit-gpui succeeded in 51ms:
src/prompts/chat/streaming.rs:69:        self.force_scroll_turns_to_bottom();
src/prompts/chat/streaming.rs:158:        self.force_scroll_turns_to_bottom();
src/prompts/chat/streaming.rs:266:        self.force_scroll_turns_to_bottom();
src/prompts/chat/render_core.rs:442:                self.user_has_scrolled_up && !self.turns_list_is_at_bottom();
src/prompts/chat/render_core.rs:479:                            this.user_has_scrolled_up,
src/prompts/chat/render_core.rs:484:                        if next_state != this.user_has_scrolled_up {
src/prompts/chat/render_core.rs:492:                            this.user_has_scrolled_up = next_state;
src/prompts/chat/render_core.rs:521:                                        this.force_scroll_turns_to_bottom();
src/prompts/chat/prompt.rs:38:    pub(super) user_has_scrolled_up: bool,
src/prompts/chat/prompt.rs:122:            user_has_scrolled_up: false,
src/prompts/chat/state.rs:40:    pub(super) fn scroll_turns_to_bottom(&mut self) {
src/prompts/chat/state.rs:49:        if self.user_has_scrolled_up && self.turns_list_is_at_bottom() {
src/prompts/chat/state.rs:54:            self.user_has_scrolled_up = false;
src/prompts/chat/state.rs:57:        if !self.user_has_scrolled_up {
src/prompts/chat/state.rs:62:    pub(super) fn force_scroll_turns_to_bottom(&mut self) {
src/prompts/chat/state.rs:63:        self.user_has_scrolled_up = false;
src/prompts/chat/state.rs:78:        self.force_scroll_turns_to_bottom();
src/prompts/chat/state.rs:109:        self.force_scroll_turns_to_bottom();
src/prompts/chat/state.rs:149:        self.user_has_scrolled_up = false;
src/prompts/chat/types.rs:193:    user_has_scrolled_up: bool,
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..2439d6bd113a53333cd1168bf3141655a5aa028c
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
@@ -458,6 +459,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]


thinking
**Inspecting state management logic**
exec
/bin/zsh -lc "nl -ba src/prompts/chat/state.rs | sed -n '1,140p'" in /Users/johnlindquist/dev/script-kit-gpui succeeded in 52ms:
     1	use super::*;
     2	
     3	impl ChatPrompt {
     4	    pub(super) fn mark_conversation_turns_dirty(&mut self) {
     5	        self.conversation_turns_dirty = true;
     6	    }
     7	
     8	    pub(super) fn sync_turns_list_state(&mut self) {
     9	        let item_count = self.conversation_turns_cache.len();
    10	        let old_count = self.turns_list_state.item_count();
    11	        if old_count != item_count {
    12	            self.turns_list_state.splice(0..old_count, item_count);
    13	        }
    14	    }
    15	
    16	    pub(super) fn ensure_conversation_turns_cache(&mut self) {
    17	        if !self.conversation_turns_dirty {
    18	            return;
    19	        }
    20	        self.conversation_turns_cache = Arc::new(build_conversation_turns(
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..2439d6bd113a53333cd1168bf3141655a5aa028c
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
@@ -458,6 +459,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]


thinking
**Examining continued code lines**
exec
/bin/zsh -lc "nl -ba src/prompts/chat/state.rs | sed -n '129,220p'" in /Users/johnlindquist/dev/script-kit-gpui succeeded in 52ms:
   129	    pub fn complete_streaming(&mut self, message_id: &str, cx: &mut Context<Self>) {
   130	        if let Some(msg) = self
   131	            .messages
   132	            .iter_mut()
   133	            .rev()
   134	            .find(|m| m.id.as_deref() == Some(message_id))
   135	        {
   136	            msg.streaming = false;
   137	        }
   138	        if self.streaming_message_id.as_deref() == Some(message_id) {
   139	            self.streaming_message_id = None;
   140	        }
   141	        self.mark_conversation_turns_dirty();
   142	        self.ensure_conversation_turns_cache();
   143	        cx.notify();
   144	    }
   145	
   146	    pub fn clear_messages(&mut self, cx: &mut Context<Self>) {
   147	        self.messages.clear();
   148	        self.streaming_message_id = None;
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..2439d6bd113a53333cd1168bf3141655a5aa028c
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
@@ -458,6 +459,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]


thinking
**Checking scrolling behavior in streaming**
exec
/bin/zsh -lc "nl -ba src/prompts/chat/streaming.rs | sed -n '1,220p'" in /Users/johnlindquist/dev/script-kit-gpui succeeded in 53ms:
     1	use super::*;
     2	
     3	impl ChatPrompt {
     4	    pub(super) fn handle_submit(&mut self, cx: &mut Context<Self>) {
     5	        let text = self.input.text().to_string();
     6	        let pending_image = self.pending_image.take();
     7	        let pending_render = self.pending_image_render.take();
     8	
     9	        if text.trim().is_empty() && pending_image.is_none() {
    10	            return;
    11	        }
    12	        logging::log("CHAT", &format!("User submitted: {}", text));
    13	        self.input.clear();
    14	        self.clear_script_generation_status();
    15	
    16	        // If built-in AI mode is enabled, handle the AI call directly
    17	        if self.has_builtin_ai() {
    18	            // Cache the render image for conversation history display
    19	            // We need the user message ID, which will be generated in handle_builtin_ai_submit
    20	            self.handle_builtin_ai_submit(text, pending_image, pending_render, cx);
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..2439d6bd113a53333cd1168bf3141655a5aa028c
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
@@ -458,6 +459,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]


thinking
**Deciding on committing changes**
exec
/bin/zsh -lc 'rg -n "render_script_generation_actions|chat-script-generation-actions" src/prompts/chat' in /Users/johnlindquist/dev/script-kit-gpui succeeded in 53ms:
src/prompts/chat/tests.rs:188:            !content.contains(".id(\"chat-script-generation-actions\")"),
src/prompts/chat/tests.rs:196:            !normalized.contains("self.render_script_generation_actions(cx)"),
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..2439d6bd113a53333cd1168bf3141655a5aa028c
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
@@ -458,6 +459,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]


thinking
**Searching scroll call usage**
exec
/bin/zsh -lc "rg -n \"ensure_conversation_turns_cache\\(\\);\" src/prompts/chat/streaming.rs" in /Users/johnlindquist/dev/script-kit-gpui succeeded in 52ms:
82:                self.ensure_conversation_turns_cache();
106:                self.ensure_conversation_turns_cache();
211:                self.ensure_conversation_turns_cache();
235:                self.ensure_conversation_turns_cache();
397:                                chat.ensure_conversation_turns_cache();
461:                                chat.ensure_conversation_turns_cache();
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..2439d6bd113a53333cd1168bf3141655a5aa028c
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
@@ -458,6 +459,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]


thinking
**Clarifying test and release steps**
codex
I’ve finished code and verification for this scope. I’m now marking the swarm task done and releasing all file claims so other agents can continue safely.
exec
/bin/zsh -lc '~/.claude/bin/swarm.ts update --id codex-footer-buttons-scroll --status done --notes "Moved script-generation action buttons into chat footer; removed standalone action row; restored built-in stream bottom-follow on completion; cargo check passes; scoped tests blocked by unrelated shared-tree test compile errors."' in /Users/johnlindquist/dev/script-kit-gpuiexec
/bin/zsh -lc '~/.claude/bin/swarm.ts release --id codex-footer-buttons-scroll src/prompts/chat/render_core.rs src/prompts/chat/tests.rs src/prompts/chat/streaming.rs src/prompts/chat/mod.rs' in /Users/johnlindquist/dev/script-kit-gpui succeeded in 53ms:
Updated: codex-footer-buttons-scroll
 succeeded in 50ms:
Released for codex-footer-buttons-scroll: src/prompts/chat/render_core.rs, src/prompts/chat/tests.rs, src/prompts/chat/streaming.rs, src/prompts/chat/mod.rs
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..2439d6bd113a53333cd1168bf3141655a5aa028c
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
@@ -458,6 +459,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]


thinking
**Verifying completion status**
exec
/bin/zsh -lc '~/.claude/bin/swarm.ts status' in /Users/johnlindquist/dev/script-kit-gpui succeeded in 51ms:
Repo: /Users/johnlindquist/dev/script-kit-gpui
Updated: 2026-02-08T06:06:13.512Z

Active agents (0):
  (none)
Inactive agents (269):
- codex-accessibility [done] done. exit=0. final=.ai/logs/codex-accessibility.final.md. See final message file.
- codex-action-labels [failed] failed. exit=1. final=.ai/logs/codex-action-labels.final.md.
- codex-actions-audit [failed] failed. exit=1. final=.ai/logs/codex-actions-audit.final.md. See final message file.
- codex-actions-consistency [failed] failed. exit=1. final=.ai/logs/codex-actions-consistency.final.md.
- codex-actions-dialog [done] done. exit=0. final=.ai/logs/codex-actions-dialog.final.md. See final message file.
- codex-actions-feedback [failed] failed. exit=1. final=.ai/logs/codex-actions-feedback.final.md.
- codex-actions-feedback-v2 [done] done. exit=0. final=.ai/logs/codex-actions-feedback-v2.final.md. See final message file.
- codex-actions-ux [done] done. exit=0. final=.ai/logs/codex-actions-ux.final.md. See final message file.
- codex-agents-md [done] done. exit=0. final=.ai/logs/codex-agents-md.final.md. See final message file.
- codex-ai-features [done] done. exit=0. final=.ai/logs/codex-ai-features.final.md. See final message file.
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..2439d6bd113a53333cd1168bf3141655a5aa028c
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
@@ -458,6 +459,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]


thinking
**Summarizing changed files and test results**
exec
/bin/zsh -lc 'git status --short src/prompts/chat/render_core.rs src/prompts/chat/streaming.rs src/prompts/chat/tests.rs src/prompts/chat/mod.rs' in /Users/johnlindquist/dev/script-kit-gpui succeeded in 52ms:
 M src/prompts/chat/mod.rs
 M src/prompts/chat/render_core.rs
 M src/prompts/chat/streaming.rs
 M src/prompts/chat/tests.rs
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..2439d6bd113a53333cd1168bf3141655a5aa028c
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
@@ -458,6 +459,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]


thinking
**Preparing final test instructions**
codex
Implemented both requested ChatPrompt UI fixes.

Changed files:
- `src/prompts/chat/render_core.rs:4`
  - Moved script-generation action buttons into footer via `render_script_generation_footer_actions(...)`.
  - Footer now renders actions inline next to existing footer items/model text.
  - Removed old standalone action-row render path from the main layout (`render_script_generation_actions` path is no longer used).
- `src/prompts/chat/streaming.rs:460`
  - Re-applied bottom-follow on built-in stream finalization by calling `chat.scroll_turns_to_bottom()` after cache refresh.
  - Keeps view pinned to newest content when stream completes.
- `src/prompts/chat/mod.rs:10`
  - Updated imports for new footer rendering/types usage.
- `src/prompts/chat/tests.rs:162`
  - Added regression checks for:
    - footer placement (no standalone script action row),
    - completion-path bottom-follow call.

Verification run:
- `cargo check -p script-kit-gpui` passed.
- Targeted test run attempted:
  - `cargo test -p script-kit-gpui script_generation_actions_render_in_footer_instead_of_standalone_row -- --nocapture`
  - Blocked by unrelated shared-tree test compile failures (outside this task), e.g. duplicate module files in `src/protocol/message/tests*` and `src/designs/core/tests*`, plus unrelated `src/actions/tests/*` errors.

How to test manually:
1. Open script-generation ChatPrompt and generate a script response.
2. Confirm `Save`, `Run`, `Save and Run` appear inside the footer next to model/footer controls, not as a separate row above footer.
3. Stream a longer response and confirm the message view continues following new content to the bottom.
4. Run `cargo check -p script-kit-gpui`.

Risks / known gaps:
- Could not execute scoped chat tests due unrelated global test-target compile breakages in the shared branch.
- No screenshot-based UI verification was run in this pass.

Commits:
- None.
file update:
diff --git a/src/prompts/chat/mod.rs b/src/prompts/chat/mod.rs
index 23005163cc8222ccb0440cce690fca97363a63e2..e49cab06db0a1d1960d02a15c1ace05b2e09c8a1
--- a/src/prompts/chat/mod.rs
+++ b/src/prompts/chat/mod.rs
@@ -7,7 +7,7 @@
 //! - Footer with model selector and "Continue in Chat"
 //! - Actions menu (⌘+K) with model picker
 
-use crate::components::prompt_footer::{PromptFooter, PromptFooterColors, PromptFooterConfig};
+use crate::components::prompt_footer::PromptFooterColors;
 use crate::components::TextInputState;
 use crate::designs::icon_variations::IconName;
 use gpui::{
diff --git a/src/prompts/chat/render_core.rs b/src/prompts/chat/render_core.rs
index 0bfa40f59536d997d46db8e8ed6abefd449ca146..59f504a9b2cf341109463f106d0bc4b8979101f9
--- a/src/prompts/chat/render_core.rs
+++ b/src/prompts/chat/render_core.rs
@@ -1,31 +1,126 @@
 use super::*;
 
 impl ChatPrompt {
-    fn render_footer(&self, _cx: &mut Context<Self>) -> impl IntoElement {
-        // Use standard PromptFooter colors from theme
-        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+    fn render_footer_button(
+        &self,
+        id: &'static str,
+        label: &'static str,
+        shortcut: &'static str,
+        accent_color: u32,
+        muted_color: u32,
+    ) -> AnyElement {
+        div()
+            .id(id)
+            .flex()
+            .flex_row()
+            .items_center()
+            .gap(px(6.0))
+            .px(px(8.0))
+            .py(px(2.0))
+            .rounded(px(4.0))
+            .cursor_default()
+            .child(div().text_xs().text_color(rgb(accent_color)).child(label))
+            .child(div().text_xs().text_color(rgb(muted_color)).child(shortcut))
+            .into_any_element()
+    }
 
-        // Build model display text (show model name if available)
+    fn render_footer(&self, cx: &mut Context<Self>) -> impl IntoElement {
+        let footer_colors = PromptFooterColors::from_theme(&self.theme);
+        let footer_bg = rgba(crate::components::prompt_footer::footer_surface_rgba(
+            footer_colors,
+        ));
         let model_text = self.model.clone().unwrap_or_else(|| "Select Model".into());
+        let footer_height = crate::window_resize::layout::FOOTER_HEIGHT;
+        let divider = || {
+            div()
+                .w(px(1.0))
+                .h(px(16.0))
+                .mx(px(4.0))
+                .bg(rgba((footer_colors.border << 8) | 0x40))
+                .into_any_element()
+        };
+
+        let mut right_side = div().flex().flex_row().items_center().min_w(px(0.));
+        if let Some(script_actions) = self.render_script_generation_footer_actions(cx) {
+            right_side = right_side.child(script_actions).child(divider());
+        }
 
-        // Configure footer with chat-specific labels
-        let footer_config = PromptFooterConfig::new()
-            .primary_label("Continue in Chat")
-            .primary_shortcut("⌘↵")
-            .secondary_label("Actions")
-            .secondary_shortcut("⌘K")
-            .show_logo(true)
-            .show_secondary(true)
-            .helper_text(model_text) // Show model name next to logo
-            .info_label("Shift+Enter newline");
+        right_side = right_side
+            .child(
+                div()
+                    .text_xs()
+                    .text_color(rgb(footer_colors.text_muted))
+                    .child("Shift+Enter newline"),
+            )
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-primary-button",
+                "Continue in Chat",
+                "⌘↵",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ))
+            .child(divider())
+            .child(self.render_footer_button(
+                "chat-footer-secondary-button",
+                "Actions",
+                "⌘K",
+                footer_colors.accent,
+                footer_colors.text_muted,
+            ));
 
-        // Note: Click handlers are not wired up here because PromptFooter uses
-        // RenderOnce with static callbacks. The keyboard shortcuts (⌘↵ and ⌘K)
-        // handle the actual functionality via the parent's key handler.
-        PromptFooter::new(footer_config, footer_colors)
+        div()
+            .id("chat-footer")
+            .w_full()
+            .h(px(footer_height))
+            .min_h(px(footer_height))
+            .max_h(px(footer_height))
+            .flex_shrink_0()
+            .overflow_hidden()
+            .px(px(12.0))
+            .pt(px(0.0))
+            .pb(px(2.0))
+            .flex()
+            .flex_row()
+            .items_center()
+            .justify_between()
+            .border_t_1()
+            .border_color(rgba((footer_colors.border << 8) | 0x50))
+            .bg(footer_bg)
+            .child(
+                div()
+                    .flex()
+                    .flex_row()
+                    .items_center()
+                    .gap(px(8.0))
+                    .flex_1()
+                    .min_w(px(0.0))
+                    .overflow_hidden()
+                    .child(
+                        svg()
+                            .external_path(crate::utils::get_logo_path())
+                            .size(px(16.0))
+                            .ml(px(2.0))
+                            .text_color(rgb(footer_colors.accent)),
+                    )
+                    .child(
+                        div()
+                            .max_w(px(420.0))
+                            .overflow_hidden()
+                            .text_ellipsis()
+                            .whitespace_nowrap()
+                            .text_xs()
+                            .text_color(rgb(footer_colors.accent))
+                            .child(model_text),
+                    ),
+            )
+            .child(right_side)
     }
 
-    fn render_script_generation_actions(&self, cx: &mut Context<Self>) -> Option<AnyElement> {
+    fn render_script_generation_footer_actions(
+        &self,
+        cx: &mut Context<Self>,
+    ) -> Option<AnyElement> {
         let show_actions = self.should_show_script_generation_actions();
         let status_message = self.script_generation_status.clone();
 
@@ -39,16 +134,12 @@
         let button_hover_bg = theme::hover_overlay_bg(&self.theme, 0x36);
 
         let mut action_container = div()
-            .id("chat-script-generation-actions")
-            .w_full()
-            .px(px(12.0))
-            .pt(px(8.0))
-            .pb(px(6.0))
+            .id("chat-script-generation-footer-actions")
             .flex()
-            .flex_col()
+            .flex_row()
+            .items_center()
             .gap(px(6.0))
-            .border_t_1()
-            .border_color(rgba((colors.quote_border << 8) | 0x40));
+            .min_w(px(0.0));
 
         if show_actions {
             let button = |id: &'static str,
@@ -57,8 +148,8 @@
              -> AnyElement {
                 div()
                     .id(format!("chat-script-generation-{}", id))
-                    .px(px(10.0))
-                    .py(px(5.0))
+                    .px(px(8.0))
+                    .py(px(2.0))
                     .rounded(px(6.0))
                     .bg(button_bg)
                     .cursor_pointer()
@@ -73,20 +164,14 @@
                     .into_any_element()
             };
 
-            action_container = action_container.child(
-                div()
-                    .flex()
-                    .flex_row()
-                    .flex_wrap()
-                    .gap(px(8.0))
-                    .child(button("save", "Save", ScriptGenerationAction::Save))
-                    .child(button("run", "Run", ScriptGenerationAction::Run))
-                    .child(button(
-                        "save-and-run",
-                        "Save and Run",
-                        ScriptGenerationAction::SaveAndRun,
-                    )),
-            );
+            action_container = action_container
+                .child(button("save", "Save", ScriptGenerationAction::Save))
+                .child(button("run", "Run", ScriptGenerationAction::Run))
+                .child(button(
+                    "save-and-run",
+                    "Save and Run",
+                    ScriptGenerationAction::SaveAndRun,
+                ));
         }
 
         if let Some(status) = status_message {
@@ -102,6 +187,10 @@
                     .text_xs()
                     .font_weight(gpui::FontWeight::MEDIUM)
                     .text_color(rgb(status_color))
+                    .max_w(px(180.0))
+                    .overflow_hidden()
+                    .text_ellipsis()
+                    .whitespace_nowrap()
                     .child(status),
             );
         }
@@ -471,11 +560,6 @@
             .child(input_area)
             // Scrollable message area
             .child(messages_content)
-            // Script generation save/run actions (shown for generated drafts when available)
-            .when_some(
-                self.render_script_generation_actions(cx),
-                |d, actions: AnyElement| d.child(actions),
-            )
             // Footer with model selector, Continue in Chat, and Actions
             .child(self.render_footer(cx))
             // Note: Actions menu is now handled by parent via on_show_actions callback
diff --git a/src/prompts/chat/streaming.rs b/src/prompts/chat/streaming.rs
index b96e12f2666e06dee0f49a20dcd7df9a3d66030f..2439d6bd113a53333cd1168bf3141655a5aa028c
--- a/src/prompts/chat/streaming.rs
+++ b/src/prompts/chat/streaming.rs
@@ -395,6 +395,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
@@ -458,6 +459,7 @@
                                 }
                                 chat.mark_conversation_turns_dirty();
                                 chat.ensure_conversation_turns_cache();
+                                chat.scroll_turns_to_bottom();
                                 cx.notify();
                                 return true; // break
                             }
diff --git a/src/prompts/chat/tests.rs b/src/prompts/chat/tests.rs
index 154fc6bc544fb31ba9692734d0cdd132292bfe39..ada5d9437a9d216977a66cca0b71598d62fee57c
--- a/src/prompts/chat/tests.rs
+++ b/src/prompts/chat/tests.rs
@@ -2,7 +2,7 @@
 #[cfg(test)]
 #[allow(clippy::module_inception)]
 mod tests {
-    use std::collections::HashMap;
+    use std::{collections::HashMap, fs};
 
     use crate::protocol::ChatPromptMessage;
 
@@ -175,6 +175,30 @@
     }
 
     #[test]
+    fn script_generation_actions_render_in_footer_instead_of_standalone_row() {
+        let content = fs::read_to_string("src/prompts/chat/render_core.rs")
+            .expect("Failed to read src/prompts/chat/render_core.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            content.contains(".id(\"chat-script-generation-footer-actions\")"),
+            "Script generation controls should render from the footer container"
+        );
+        assert!(
+            !content.contains(".id(\"chat-script-generation-actions\")"),
+            "Legacy standalone script generation action row should be removed"
+        );
+        assert!(
+            normalized.contains("self.render_script_generation_footer_actions(cx)"),
+            "Footer should include script generation controls next to existing footer actions"
+        );
+        assert!(
+            !normalized.contains("self.render_script_generation_actions(cx)"),
+            "Main render tree should no longer insert script generation controls as a separate row"
+        );
+    }
+
+    #[test]
     fn script_generation_action_should_run_after_save_only_for_run_variants() {
         assert!(
             !ScriptGenerationAction::Save.should_run_after_save(),
@@ -286,6 +310,20 @@
         assert_eq!(revealed, content);
     }
 
+    #[test]
+    fn builtin_stream_completion_reapplies_scroll_to_bottom_after_finalize() {
+        let content = fs::read_to_string("src/prompts/chat/streaming.rs")
+            .expect("Failed to read src/prompts/chat/streaming.rs");
+        let normalized: String = content.chars().filter(|c| !c.is_whitespace()).collect();
+
+        assert!(
+            normalized.contains(
+                "chat.mark_conversation_turns_dirty();chat.ensure_conversation_turns_cache();chat.scroll_turns_to_bottom();cx.notify();returntrue;"
+            ),
+            "Built-in stream completion should refresh turns and re-apply bottom follow before breaking"
+        );
+    }
+
     /// Verify that reveal never skips content — each boundary advances
     /// monotonically and covers the full string.
     #[test]

tokens used
204,453
Implemented both requested ChatPrompt UI fixes.

Changed files:
- `src/prompts/chat/render_core.rs:4`
  - Moved script-generation action buttons into footer via `render_script_generation_footer_actions(...)`.
  - Footer now renders actions inline next to existing footer items/model text.
  - Removed old standalone action-row render path from the main layout (`render_script_generation_actions` path is no longer used).
- `src/prompts/chat/streaming.rs:460`
  - Re-applied bottom-follow on built-in stream finalization by calling `chat.scroll_turns_to_bottom()` after cache refresh.
  - Keeps view pinned to newest content when stream completes.
- `src/prompts/chat/mod.rs:10`
  - Updated imports for new footer rendering/types usage.
- `src/prompts/chat/tests.rs:162`
  - Added regression checks for:
    - footer placement (no standalone script action row),
    - completion-path bottom-follow call.

Verification run:
- `cargo check -p script-kit-gpui` passed.
- Targeted test run attempted:
  - `cargo test -p script-kit-gpui script_generation_actions_render_in_footer_instead_of_standalone_row -- --nocapture`
  - Blocked by unrelated shared-tree test compile failures (outside this task), e.g. duplicate module files in `src/protocol/message/tests*` and `src/designs/core/tests*`, plus unrelated `src/actions/tests/*` errors.

How to test manually:
1. Open script-generation ChatPrompt and generate a script response.
2. Confirm `Save`, `Run`, `Save and Run` appear inside the footer next to model/footer controls, not as a separate row above footer.
3. Stream a longer response and confirm the message view continues following new content to the bottom.
4. Run `cargo check -p script-kit-gpui`.

Risks / known gaps:
- Could not execute scoped chat tests due unrelated global test-target compile breakages in the shared branch.
- No screenshot-based UI verification was run in this pass.

Commits:
- None.


==== exit @ 2026-02-08T06:06:29.259Z code=0 status=done ====

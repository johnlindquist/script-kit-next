The swarm task list is ready above. Oracle was unavailable (3/3 Chrome instances busy), so I analyzed the code directly from reading all 6 render_prompts files.

**Summary of findings:**
- **~900 lines** of copy-pasted code across 6 files
- **4 extraction tasks** identified, ordered by impact:
  1. **`extract-actions-backdrop`** — ~25 lines × 5 files → single method returning `Option<Div>`
  2. **`extract-key-preamble`** — ~12 lines × 5 files → `key_preamble()` returning bool
  3. **`extract-sdk-shortcut-check`** — ~10 lines × 5 files → `check_sdk_action_shortcut()` returning bool
  4. **`extract-token-setup`** — ~10 lines × 6 files → `PromptRenderContext` struct + constructor

All new shared code goes into `src/render_prompts/arg/helpers.rs` (already `include!()`-ed). Each task is self-contained with exact signatures and edge cases documented.

Want me to run `/codex-swarm` to execute these tasks?

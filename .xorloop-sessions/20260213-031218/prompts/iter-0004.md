<previous-analyses>
- **Critical: Excessive FFI allocations in hot paths** — Every AX attribute read creates throwaway CString/CFString objects; constant attribute names are never cached; and multiple separate cross-process AX calls per menu item should be batched with `AXUIElementCopyMultipleAttributeValues`.

- **Major: Cloning, locking, and concurrency waste** — Full menu tree deep-cloned on every read (use `Arc`); SQLite mutex held during serde; rapid app-switching spawns unbounded OS threads for AX scans (need debounce + single worker); linear string-allocating scans for menu item lookup.

- **Minor: Small allocation and timing inefficiencies** — Hard-coded 50ms sleeps instead of bounded polling; missing `Vec::with_capacity` hints; unconditional logging and redundant attribute fetches in separator detection that compound after the critical fixes land.

NEXT_SEED: Menu item search/indexing layer — how the parsed AX tree is queried for user commands and whether it introduces O(n^2) behavior.
---
- The emoji picker's core navigation/scroll logic relies on undocumented invariants (category contiguity, flat-index model, row mapping) shared between `compute_scroll_row` and the grid renderer — the highest-priority gap.
- Public types (`Emoji`, `EmojiCategory`, `ALL_CATEGORIES`, `EMOJIS`) and helpers (`search_emojis`, `grouped_emojis`) lack rustdoc, module-level docs, and ordering/search-semantics documentation.
- The render function (`render_emoji_picker`) has no section comments or module docs despite being ~500 lines, and there's no standalone architecture doc for the emoji subsystem.

NEXT_SEED: Actions dialog focus restoration and `ActionsDialogHost::EmojiPicker` key routing interaction
---
- **Unbounded timer spawning:** Every arrow key press spawns a new detached 1s timer task with no dedup guard, creating a "thundering herd" of tasks during rapid input — fix with a single debounced fade task pattern.

- **Redundant work per keystroke:** Double `cx.notify()` calls per navigation event cause extra render invalidations, and repeated linear scans over `grouped_items` (`.position()` + `.rposition()`) compound to O(n²) during sustained key holds.

- **Missing fast-path guards:** Cursor-hide platform calls fire unconditionally every keystroke even when already in keyboard mode, and `validate_selection_bounds()` does multiple full passes plus eager cache clearing regardless of whether selection actually changed.

NEXT_SEED: `get_grouped_results_cached()` and `GroupedListItem` vector construction/invalidation pipeline
---
</previous-analyses>

Do NOT repeat items already covered above. Find something new.
## Feature Under Review

FEATURE: Text expansion trigger system that buffers typed characters in a rolling window and fires scriptlet expansions when registered keyword patterns (like `:sig`, `!today`, `addr,,`) are completed
FILES: src/keyword_matcher/mod.rs, src/keyword_manager/mod.rs, src/keystroke_logger/mod.rs, src/scriptlets/mod.rs

## Analysis Category

documentation gaps: find undocumented public APIs, missing README sections, stale comments

## Instructions

1. Analyze the feature described above through the lens of: documentation gaps
2. Be specific: reference actual file paths, function names, line ranges
3. Output a prioritized checklist of actionable improvements
4. For each item: severity (critical/major/minor), file path, concrete fix description
5. End with: NEXT_AREA: <suggest one unexplored area for future analysis>

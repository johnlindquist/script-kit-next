<previous-analyses>
- **Critical thread-safety gap**: `apply_default_cursor()` is public and callable from any thread, but AppKit's `[NSCursor set]` requires the main thread — leads to undefined behavior. Also missing autorelease pools and using panicking `class!()` macro instead of fallible `Class::get()`.

- **Cursor claims lack window scoping and lifecycle cleanup**: Components call `claim_cursor_pointer()` unconditionally without checking window type (NSPanel vs normal), and there's no cursor reset on panel hide/close/deactivate — leaving a sticky pointer cursor (UI spoofing vector).

- **API over-exposure and missing optimization**: `claim_cursor_pointer()` and `apply_default_cursor()` are fully `pub` (should be `pub(crate)` or capability-gated), no caching means redundant AppKit calls on every mouse move, and the binary arrow/pointer model can't express I-beam for text regions.

NEXT_SEED: Popup root wiring and NSPanel window lifecycle hooks — verifying main-thread guarantees, cursor resets on hide/close/deactivate, and event-propagation contract integrity.
---
Here's the summary:

- **Critical DB/UI thread blocking**: FTS triggers fire unnecessarily on every upsert (not just content changes), and synchronous SQLite writes plus per-keystroke queries block the render loop, causing UI jank.
- **Redundant per-frame computation**: Full-buffer scans for stats, lowercase content matching, and markdown re-parsing happen every render frame instead of being cached and invalidated on change.
- **Excessive allocations in hot paths**: Unnecessary string clones on keystrokes, double allocations from `NoteId::as_str()`, per-comparison `to_lowercase()` in sorts, and full-content clones for delete/restore waste memory in tight loops.

NEXT_SEED: CommandBar action filtering and ranking performance — whether it loads full note content or metadata-only rows, and virtualization of action list rendering.
---
- **Critical safety docs needed**: Three files (`keystroke_logger.rs`, `text_injector.rs`, `keyword_manager/mod.rs`) lack safety/privacy documentation for sensitive operations — keystroke recording, synthetic input injection to focused apps, clipboard overwrites, and system-wide keyboard monitoring requiring Accessibility permissions.

- **14 major API/architecture gaps**: Public structs and functions across the text-expansion pipeline are undocumented — no `///` docs, no module-level `//!` architecture overviews, no `# Errors` sections, and no explanation of the dataflow (monitor → matcher → lookup → substitution → injector) or threading model.

- **Minor polish items**: Five items covering missing usage examples for keystroke logger, text injector, keyword matcher, and scriptlet formatting, plus one stale `// Public API for future use` comment that should be removed or converted to a stability note.

NEXT_SEED: `crate::keyboard_monitor` — event model, permission behavior, error types, and callback threading guarantees
---
</previous-analyses>

Do NOT repeat items already covered above. Find something new.
## Feature Under Review

FEATURE: The actions dialog system provides a searchable, keyboard-navigable overlay popup (Raycast-style) for quick access to built-in and SDK-provided actions, with fuzzy-ranked filtering, variable-height grouped lists with section headers, and a separate vibrancy window.
FILES: src/actions/dialog.rs, src/actions/window.rs, src/actions/types/action_model.rs, src/confirm/dialog.rs, src/app_impl/actions_dialog.rs

## Analysis Category

documentation gaps: find undocumented public APIs, missing README sections, stale comments

## Instructions

1. Analyze the feature described above through the lens of: documentation gaps
2. Be specific: reference actual file paths, function names, line ranges
3. Output a prioritized checklist of actionable improvements
4. For each item: severity (critical/major/minor), file path, concrete fix description
5. End with: NEXT_AREA: <suggest one unexplored area for future analysis>

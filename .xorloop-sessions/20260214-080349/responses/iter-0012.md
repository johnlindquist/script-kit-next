Good — the pattern is `Tooltip::new(text).build(window, cx)` with `.tooltip(move |window, cx| { ... })` on the element. Now I have everything I need to produce the final work orders. Oracle's task 3 was too broad (touching 10+ files). Let me restructure the output.

Here are the Oracle-analyzed swarm work orders for UX polish:

---

### Task 1: `theme-chooser-toggle-knob-token`

**Scope:** `src/render_builtins/theme_chooser_customize_controls.rs`

**Task:**
The vibrancy toggle switch knob at line 147 uses a hardcoded `.bg(rgb(0xffffff))` — a white circle that breaks theme consistency in non-default themes. The rest of this file correctly uses theme-derived variables like `accent_color`, `text_secondary`, `text_on_accent`, `selection_bg`, etc. The toggle knob should follow the same pattern.

Replace `.bg(rgb(0xffffff))` on line 147 with `.bg(rgb(text_on_accent))`. The variable `text_on_accent` is already extracted and available earlier in the rendering function (it comes from `self.theme.colors.text.on_accent`). This is the semantically correct token — it's the color designed to be readable when placed on top of the accent color (the toggle track). No other changes needed in this file.

Verify: `cargo check && cargo clippy --all-targets -- -D warnings && cargo test`. The visual result is that the toggle knob remains white in the default dark theme (since `on_accent` is white by default) but will correctly adapt to other themes.

---

### Task 2: `retro-terminal-log-theme-colors`

**Scope:** `src/designs/retro_terminal/render.rs, src/designs/retro_terminal/colors.rs`

**Task:**
In `src/designs/retro_terminal/render.rs` at lines 214 and 219, error and warning log levels use hardcoded `rgb(0xff4444)` (red) and `rgb(0xffff00)` (yellow). The existing `TerminalColors` struct (in `colors.rs`) only has `phosphor`, `background`, `dim`, and `scanline` fields — no error/warning colors. These hardcoded values should be lifted into the struct so the retro terminal design is fully configurable.

In `src/designs/retro_terminal/colors.rs`: (1) Add two constants: `pub(crate) const ERROR_RED: u32 = 0xff4444;` and `pub(crate) const WARNING_YELLOW: u32 = 0xffff00;`. (2) Add two fields to `TerminalColors`: `pub error: u32` and `pub warning: u32`. (3) In the `Default` impl, set `error: ERROR_RED` and `warning: WARNING_YELLOW`. Then in `src/designs/retro_terminal/render.rs`, replace `rgb(0xff4444)` with `rgb(colors.error)` and `rgb(0xffff00)` with `rgb(colors.warning)` (the `colors` parameter of type `TerminalColors` is already passed into this function).

Verify: `cargo check && cargo clippy --all-targets -- -D warnings && cargo test`. The visual output should be identical with default colors, but the design is now theme-configurable.

---

### Task 3: `list-item-tooltips-no-panic`

**Scope:** `src/list_item/mod.rs`

**Task:**
In `src/list_item/mod.rs`, there are 4 `text_ellipsis()` calls (lines ~1070, ~1087, ~1151, ~1160) that truncate script names and descriptions with zero tooltip fallback — users cannot read long text. Additionally, line 1413 has `.expect("Failed to create image buffer")` in production code, violating the project's no-unwrap/expect rule.

For the tooltips: add `.id(...)` and `.tooltip(...)` to each of the 4 div chains. Use `ElementId::NamedInteger("list-name".into(), index.unwrap_or(0) as u64)` for the name divs and `ElementId::NamedInteger("list-desc".into(), index.unwrap_or(0) as u64)` for the description divs. The `index` variable is available from the existing `self.index` field (or derive from `self.semantic_id`). Clone the full text string into the tooltip closure. Pattern to follow (from `src/ai/window/render_sidebar_items.rs` line ~147): `.id(element_id).tooltip(move |window, cx| { Tooltip::new(full_text.clone()).build(window, cx) })`. Make sure to `use gpui::tooltip::Tooltip;` at the top of the file if not already imported.

For the panic: replace line 1413's `.expect("Failed to create image buffer")` with `.ok_or_else(|| image::ImageError::IoError(std::io::Error::new(std::io::ErrorKind::InvalidData, "Failed to create image buffer")))?;`. The function already returns `Result<Arc<RenderImage>, image::ImageError>` so the `?` propagation works. Verify: `cargo check && cargo clippy --all-targets -- -D warnings && cargo test`.

---

### Task 4: `component-ellipsis-tooltips`

**Scope:** `src/components/unified_list_item/render.rs, src/components/prompt_footer.rs, src/components/prompt_header/component.rs, src/notes/browse_panel.rs, src/hud_manager/mod.rs`

**Task:**
Five production files use `text_ellipsis()` without tooltip fallback, making truncated text permanently unreadable. This task adds tooltips to all remaining ellipsized elements (excluding `src/ai/window/` which already has them, and `src/list_item/mod.rs` which is handled by task 3).

For each site, add a stable `.id(...)` to the div that has `.text_ellipsis()`, clone the full text string, and add `.tooltip(move |window, cx| { Tooltip::new(full_text.clone()).build(window, cx) })`. Specific locations: (1) `src/components/unified_list_item/render.rs` lines ~378 and ~395 — 2 sites, tooltip shows full label text. (2) `src/components/prompt_footer.rs` lines ~458 and ~547 — 2 sites, tooltip shows full info/helper string. (3) `src/components/prompt_header/component.rs` line ~89 — 1 site, tooltip shows full path prefix. (4) `src/notes/browse_panel.rs` line ~326 — 1 site, tooltip shows full note title. (5) `src/hud_manager/mod.rs` line ~278 — 1 site, tooltip shows full HUD label. Use `use gpui::tooltip::Tooltip;` where not already imported. Use `ElementId::Name(SharedString::from(...))` or `ElementId::NamedInteger(...)` for IDs — pick whichever pattern is already used in each file.

Verify: `cargo check && cargo clippy --all-targets -- -D warnings && cargo test`. Each tooltip must show the original untruncated string, not the ellipsized output.

---

NEXT_AREA: `src/prompts/chat/render_core.rs` and `src/prompts/creation_feedback.rs` — both have `text_ellipsis()` without tooltips, plus the broader `src/actions/dialog.rs` (line 1936) has the same pattern. Also audit keyboard/focus affordances for all clickable rows and toggles in `src/render_builtins/`.
